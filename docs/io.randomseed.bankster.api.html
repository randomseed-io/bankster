<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.api documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">2.1.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="15_contracts.html"><div class="inner"><span>Bankster Contracts</span></div></a></li><li class="depth-1 "><a href="20_data_structures.html"><div class="inner"><span>Data Structures</span></div></a></li><li class="depth-1 "><a href="30_currency-kinds.html"><div class="inner"><span>Currency kinds</span></div></a></li><li class="depth-1 "><a href="32_currency_traits.html"><div class="inner"><span>Currency traits</span></div></a></li><li class="depth-1 "><a href="50_example_config.html"><div class="inner"><span>Example EDN config</span></div></a></li><li class="depth-1 "><a href="50_serialization.html"><div class="inner"><span>Serialization</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4 branch current"><a href="io.randomseed.bankster.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.jsr-354.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jsr-354</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serializers</span></div></div></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.edn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.serializers.json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.api.html#var-currency"><div class="inner"><span>currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.html#var-currency-try"><div class="inner"><span>currency-try</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.html#var-money"><div class="inner"><span>money</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.html#var-try-money"><div class="inner"><span>try-money</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.api</h1><h4 class="added">added in 2.2.0</h4><div class="doc"><div class="markdown"><p>Bankster library, front API.</p>
</div></div><div class="public anchor" id="var-currency"><h3>currency</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(currency)</code><code>(currency currency)</code><code>(currency currency registry)</code></div><div class="doc"><div class="markdown"><p>Strict currency coercion (throwing).</p>
<p>Delegates to <code>io.randomseed.bankster.currency/unit</code>.</p>
<p>Arity: - <code>()</code> uses <code>currency/*default*</code>. - <code>([currency])</code> resolves the given currency representation. - <code>([currency registry])</code> resolves using the given registry (<code>nil</code> -&gt; default).</p>
<p>Accepts currency identifiers (keyword/symbol/string/number), <code>Currency</code> values, and currency maps (treated as registry lookup specs).</p>
<p>When a registry is consulted and no match is found, it throws. Returns <code>nil</code> for <code>nil</code> input.</p>
<p>When the input is already a <code>Currency</code> and <code>registry</code> is <code>nil</code>, or omitted, it is returned as-is.</p>
<p>When the input is a <code>Currency</code> but registry is explicitly given and not <code>nil</code>, the given currency will be used to perform a registry lookup (and its properties will be used as a mask).</p>
<p>Setting registry to <code>true</code> will cause default registry to be used and lookup enforced.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.1.1/src/io/randomseed/bankster/api.clj#L29">view source</a></div></div><div class="public anchor" id="var-currency-try"><h3>currency-try</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(currency-try)</code><code>(currency-try currency)</code><code>(currency-try currency registry)</code></div><div class="doc"><div class="markdown"><p>Non-throwing currency resolution.</p>
<p>Delegates to <code>io.randomseed.bankster.currency/unit-try</code> and returns a registered <code>Currency</code> or <code>nil</code> when it cannot be resolved.</p>
<p>Arity: - <code>()</code> uses <code>currency/*default*</code>. - <code>([currency])</code> resolves the given representation using the default registry. - <code>([currency registry])</code> resolves using the given registry (<code>nil</code> -&gt; default).</p>
<p>Accepts currency identifiers (keyword/symbol/string/number), <code>Currency</code> values, and currency maps (treated as registry lookup specs).</p>
<p>When a registry is consulted and no match is found, it returns <code>nil</code>.</p>
<p>When the input is already a <code>Currency</code> and <code>registry</code> is <code>nil</code> or omitted, it is returned as-is.</p>
<p>When the input is a <code>Currency</code> but registry is explicitly given and not <code>nil</code>, the given currency will be used to perform a registry lookup (and its properties will be used as a mask).</p>
<p>Setting registry to <code>true</code> will cause default registry to be used and lookup enforced.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.1.1/src/io/randomseed/bankster/api.clj#L64">view source</a></div></div><div class="public anchor" id="var-money"><h3>money</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(money)</code><code>(money amount)</code><code>(money amount currency)</code><code>(money amount currency rounding)</code><code>(money amount currency registry)</code><code>(money amount currency rounding registry)</code></div><div class="doc"><div class="markdown"><p>First-class Money constructor with amount-first argument order.</p>
<p>Delegates to <code>io.randomseed.bankster.money/value</code> and resolves currency via <code>io.randomseed.bankster.currency/unit</code> when a currency argument is provided.</p>
<p>Arity:</p>
<ul>
<li><code>()</code> creates zero in the default currency.</li>
<li><code>([amount])</code> delegates to unary <code>money/value</code>.</li>
<li><code>([amount currency])</code> uses amount + currency.</li>
<li><code>([amount currency rounding])</code> uses amount + currency + rounding.</li>
<li><code>([amount currency registry])</code> uses amount + currency (resolved using registry).</li>
<li><code>([amount currency rounding registry])</code> explicit rounding + registry for resolution.</li>
</ul>
<p><code>currency</code> may be a <code>Currency</code>, an identifier (keyword/symbol/string/number), or a currency map (lookup spec).</p>
<p>When a registry is consulted and the currency cannot be resolved, it throws.</p>
<p><code>rounding</code> may be a <code>java.math.RoundingMode</code> or a keyword/symbol/string like “HALF_UP” (see <code>scale/post-parse-rounding</code>). If no default currency is configured and the amount does not encode one, <code>money/value</code> will throw.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.1.1/src/io/randomseed/bankster/api.clj#L98">view source</a></div></div><div class="public anchor" id="var-try-money"><h3>try-money</h3><div class="usage"><code>(try-money)</code><code>(try-money amount)</code><code>(try-money amount currency)</code><code>(try-money amount currency rounding)</code><code>(try-money amount currency registry)</code><code>(try-money amount currency rounding registry)</code></div><div class="doc"><div class="markdown"><p>Non-throwing variant of <code>money</code> for currency resolution.</p>
<p>Uses <code>currency-try</code> (<code>io.randomseed.bankster.currency/resolve</code>) and returns <code>nil</code> when the currency cannot be resolved in the given (or default) registry. Accepts the same argument shapes as <code>money</code>. Rounding is parsed.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.1.1/src/io/randomseed/bankster/api.clj#L147">view source</a></div></div></div></body></html>