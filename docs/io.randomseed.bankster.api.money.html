<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.api.money documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">2.2.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="12_api.html"><div class="inner"><span>Bankster Front API</span></div></a></li><li class="depth-1 "><a href="15_contracts.html"><div class="inner"><span>Bankster Contracts</span></div></a></li><li class="depth-1 "><a href="20_data_structures.html"><div class="inner"><span>Data Structures</span></div></a></li><li class="depth-1 "><a href="30_currency-kinds.html"><div class="inner"><span>Currency kinds</span></div></a></li><li class="depth-1 "><a href="32_currency_traits.html"><div class="inner"><span>Currency traits</span></div></a></li><li class="depth-1 "><a href="50_example_config.html"><div class="inner"><span>Example EDN config</span></div></a></li><li class="depth-1 "><a href="50_serialization.html"><div class="inner"><span>Serialization</span></div></a></li><li class="depth-1 "><a href="80_license.html"><div class="inner"><span>License</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-5 branch current"><a href="io.randomseed.bankster.api.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.api.v2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v2</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-6"><a href="io.randomseed.bankster.api.v2.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.jsr-354.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jsr-354</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serializers</span></div></div></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.edn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.serializers.json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-*"><div class="inner"><span>*</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.2B"><div class="inner"><span>+</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--"><div class="inner"><span>-</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Eclojure-symbol"><div class="inner"><span>-&gt;clojure-symbol</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Edouble"><div class="inner"><span>-&gt;double</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Eedn"><div class="inner"><span>-&gt;edn</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Efloat"><div class="inner"><span>-&gt;float</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Ejson"><div class="inner"><span>-&gt;json</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3ELastMoney"><div class="inner"><span>-&gt;LastMoney</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Emap"><div class="inner"><span>-&gt;map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var--.3Esymbol"><div class="inner"><span>-&gt;symbol</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.2F"><div class="inner"><span>/</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.3C"><div class="inner"><span>&lt;</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.3C.3D"><div class="inner"><span>&lt;=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.3D"><div class="inner"><span>=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.3D.3D"><div class="inner"><span>==</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.3E"><div class="inner"><span>&gt;</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-.3E.3D"><div class="inner"><span>&gt;=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-abs"><div class="inner"><span>abs</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-Accountable"><div class="inner"><span>Accountable</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-add"><div class="inner"><span>add</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-add-major"><div class="inner"><span>add-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-add-minor"><div class="inner"><span>add-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-add-scaled"><div class="inner"><span>add-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-allocate"><div class="inner"><span>allocate</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-amount"><div class="inner"><span>amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-apply"><div class="inner"><span>apply</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-auto-scaled.3F"><div class="inner"><span>auto-scaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-cast"><div class="inner"><span>cast</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-cast-try"><div class="inner"><span>cast-try</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-code-literal"><div class="inner"><span>code-literal</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-code-readers"><div class="inner"><span>code-readers</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-compare"><div class="inner"><span>compare</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-compare-amounts"><div class="inner"><span>compare-amounts</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-convert"><div class="inner"><span>convert</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-currency"><div class="inner"><span>currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-data-literal"><div class="inner"><span>data-literal</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-data-readers"><div class="inner"><span>data-readers</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-dec-major"><div class="inner"><span>dec-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-dec-minor"><div class="inner"><span>dec-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-default-registry"><div class="inner"><span>default-registry</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-defliteral"><div class="inner"><span>defliteral</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-distribute"><div class="inner"><span>distribute</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-div"><div class="inner"><span>div</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-div-rem"><div class="inner"><span>div-rem</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-div-scaled"><div class="inner"><span>div-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-eq-am.3F"><div class="inner"><span>eq-am?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-eq.3F"><div class="inner"><span>eq?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-format"><div class="inner"><span>format</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-format-with"><div class="inner"><span>format-with</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-from-edn"><div class="inner"><span>from-edn</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-from-edn-text"><div class="inner"><span>from-edn-text</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-from-json"><div class="inner"><span>from-json</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-from-json-map"><div class="inner"><span>from-json-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-from-json-string"><div class="inner"><span>from-json-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-from-json-text"><div class="inner"><span>from-json-text</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-ge.3F"><div class="inner"><span>ge?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-gt.3F"><div class="inner"><span>gt?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-inc-major"><div class="inner"><span>inc-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-inc-minor"><div class="inner"><span>inc-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-is-neg-or-zero.3F"><div class="inner"><span>is-neg-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-is-neg.3F"><div class="inner"><span>is-neg?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-is-pos-or-zero.3F"><div class="inner"><span>is-pos-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-is-pos.3F"><div class="inner"><span>is-pos?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-is-zero.3F"><div class="inner"><span>is-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-le.3F"><div class="inner"><span>le?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-lt.3F"><div class="inner"><span>lt?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major"><div class="inner"><span>major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-.3Eint"><div class="inner"><span>major-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-.3Elong"><div class="inner"><span>major-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-minor"><div class="inner"><span>major-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-minor-.3Eint"><div class="inner"><span>major-minor-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-minor-.3Elong"><div class="inner"><span>major-minor-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-of"><div class="inner"><span>major-of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-major-value"><div class="inner"><span>major-value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-map-.3ELastMoney"><div class="inner"><span>map-&gt;LastMoney</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-max"><div class="inner"><span>max</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-max-amount"><div class="inner"><span>max-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-min"><div class="inner"><span>min</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-min-amount"><div class="inner"><span>min-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-minor"><div class="inner"><span>minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-minor-.3Eint"><div class="inner"><span>minor-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-minor-.3Elong"><div class="inner"><span>minor-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-minor-of"><div class="inner"><span>minor-of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-minor-value"><div class="inner"><span>minor-value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-money.3F"><div class="inner"><span>money?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-mul"><div class="inner"><span>mul</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-mul-scaled"><div class="inner"><span>mul-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-ne-am.3F"><div class="inner"><span>ne-am?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-ne.3F"><div class="inner"><span>ne?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-neg"><div class="inner"><span>neg</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-neg-or-zero.3F"><div class="inner"><span>neg-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-neg.3F"><div class="inner"><span>neg?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-normalize"><div class="inner"><span>normalize</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-not.3D"><div class="inner"><span>not=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-not.3D.3D"><div class="inner"><span>not==</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-of"><div class="inner"><span>of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-of-major"><div class="inner"><span>of-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-of-map"><div class="inner"><span>of-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-of-minor"><div class="inner"><span>of-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-of-registry"><div class="inner"><span>of-registry</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-on-amount"><div class="inner"><span>on-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-parse"><div class="inner"><span>parse</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-parse-major"><div class="inner"><span>parse-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-parse-minor"><div class="inner"><span>parse-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-pos"><div class="inner"><span>pos</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-pos-or-zero.3F"><div class="inner"><span>pos-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-pos.3F"><div class="inner"><span>pos?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-readers"><div class="inner"><span>readers</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-registry-or-default"><div class="inner"><span>registry-or-default</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-rem"><div class="inner"><span>rem</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-rescale"><div class="inner"><span>rescale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-rescaled.3F"><div class="inner"><span>rescaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-resolve"><div class="inner"><span>resolve</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-resolve-try"><div class="inner"><span>resolve-try</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-round"><div class="inner"><span>round</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-round-to"><div class="inner"><span>round-to</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-rounding-mode"><div class="inner"><span>rounding-mode</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-same-currencies.3F"><div class="inner"><span>same-currencies?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-same-currency-ids.3F"><div class="inner"><span>same-currency-ids?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-scale-apply"><div class="inner"><span>scale-apply</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-set-amount"><div class="inner"><span>set-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-split-scale-int"><div class="inner"><span>split-scale-int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-strip"><div class="inner"><span>strip</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-stripped-amount"><div class="inner"><span>stripped-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-sub"><div class="inner"><span>sub</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-sub-major"><div class="inner"><span>sub-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-sub-minor"><div class="inner"><span>sub-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-sub-scaled"><div class="inner"><span>sub-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-to-json-map"><div class="inner"><span>to-json-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-to-json-string"><div class="inner"><span>to-json-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-to-map"><div class="inner"><span>to-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-to-units"><div class="inner"><span>to-units</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-unparse"><div class="inner"><span>unparse</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-value"><div class="inner"><span>value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-with-currency"><div class="inner"><span>with-currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-with-registry"><div class="inner"><span>with-registry</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-with-rescaling"><div class="inner"><span>with-rescaling</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-with-rounding"><div class="inner"><span>with-rounding</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.api.money.html#var-zero.3F"><div class="inner"><span>zero?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.api.money</h1><h4 class="added">added in 2.2.0</h4><div class="doc"><div class="markdown"><p>Bankster library, front API money helpers.</p>
</div></div><div class="public anchor" id="var-*"><h3>*</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(*)</code><code>(* a)</code><code>(* a b)</code><code>(* a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for mul.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.2B"><h3>+</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(+)</code><code>(+ a)</code><code>(+ a b)</code><code>(+ a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for add.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var--"><h3>-</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(- a)</code><code>(- a b)</code><code>(- a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for sub.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var--.3Eclojure-symbol"><h3>-&gt;clojure-symbol</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;clojure-symbol a)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a clojure symbol (with added M when needed).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var--.3Edouble"><h3>-&gt;double</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;double a)</code><code>(-&gt;double a scale)</code><code>(-&gt;double a rounding-mode)</code><code>(-&gt;double a scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a double with optional rescaling.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var--.3Eedn"><h3>-&gt;edn</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;edn money)</code><code>(-&gt;edn money opts)</code></div><div class="doc"><div class="markdown"><p>Serializes money-like value to an EDN tagged literal string.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L613">view source</a></div></div><div class="public anchor" id="var--.3Efloat"><h3>-&gt;float</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;float a)</code><code>(-&gt;float a scale)</code><code>(-&gt;float a rounding-mode)</code><code>(-&gt;float a scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a float with optional rescaling. Resulting type will be widened to double.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var--.3Ejson"><h3>-&gt;json</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;json money)</code><code>(-&gt;json money opts)</code></div><div class="doc"><div class="markdown"><p>Serializes money-like value to a JSON string.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L623">view source</a></div></div><div class="public anchor" id="var--.3ELastMoney"><h3>-&gt;LastMoney</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;LastMoney m scale auto-scaled)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class io.randomseed.bankster.money.LastMoney.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var--.3Emap"><h3>-&gt;map</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;map money)</code></div><div class="doc"><div class="markdown"><p>Coerces a money-like value into an EDN-friendly map.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L607">view source</a></div></div><div class="public anchor" id="var--.3Esymbol"><h3>-&gt;symbol</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(-&gt;symbol a)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a symbol.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.2F"><h3>/</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(/ a)</code><code>(/ a b)</code><code>(/ a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for div.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.3C"><h3>&lt;</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(&lt; a)</code><code>(&lt; a b)</code><code>(&lt; a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for lt?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.3C.3D"><h3>&lt;=</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(&lt;= a)</code><code>(&lt;= a b)</code><code>(&lt;= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for le?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.3D"><h3>=</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(= a)</code><code>(= a b)</code><code>(= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for eq?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.3D.3D"><h3>==</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(== a)</code><code>(== a b)</code><code>(== a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for eq-am?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.3E"><h3>&gt;</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(&gt; a)</code><code>(&gt; a b)</code><code>(&gt; a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for gt?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-.3E.3D"><h3>&gt;=</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(&gt;= a)</code><code>(&gt;= a b)</code><code>(&gt;= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for ge?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-abs"><h3>abs</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(abs a)</code></div><div class="doc"><div class="markdown"><p>Returns the absolute value of the given money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-Accountable"><h3>Accountable</h3><h4 class="type">protocol</h4><h4 class="added">added in 2.2.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>This protocol is used to express (monetary) values using various numeric types and currency representations.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-add"><h3>add</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(add)</code><code>(add a)</code><code>(add a b)</code><code>(add a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Adds two or more monetary amounts of the same currency.</p>
<p>Delegates to <code>io.randomseed.bankster.money/add</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L468">view source</a></div></div><div class="public anchor" id="var-add-major"><h3>add-major</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(add-major a b)</code></div><div class="doc"><div class="markdown"><p>Increases major amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-add-minor"><h3>add-minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(add-minor a b)</code></div><div class="doc"><div class="markdown"><p>Increases minor amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated..</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-add-scaled"><h3>add-scaled</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(add-scaled)</code><code>(add-scaled a)</code><code>(add-scaled a b)</code><code>(add-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for add.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-allocate"><h3>allocate</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(allocate money ratios)</code></div><div class="doc"><div class="markdown"><p>Allocates a monetary amount into parts according to integer ratios.</p>
<p>Delegates to <code>io.randomseed.bankster.money/allocate</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L351">view source</a></div></div><div class="public anchor" id="var-amount"><h3>amount</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(amount money)</code><code>(amount a b)</code><code>(amount a b rounding)</code></div><div class="doc"><div class="markdown"><p>Returns Money amount as <code>BigDecimal</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L296">view source</a></div></div><div class="public anchor" id="var-apply"><h3>apply</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(apply money f)</code><code>(apply money f a)</code><code>(apply money f a b)</code><code>(apply money f a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for on-amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-auto-scaled.3F"><h3>auto-scaled?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(auto-scaled? money)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if the scale returned by <code>scale</code> is auto-scaled.</p>
<p>Delegates to <code>io.randomseed.bankster.scale/auto?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L324">view source</a></div></div><div class="public anchor" id="var-cast"><h3>cast</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(cast money)</code><code>(cast money currency)</code><code>(cast money currency rounding)</code></div><div class="doc"><div class="markdown"><p>Casts an existing Money object to another having a different currency, rescaling the amount and optionally rounding it. This is useful when operating on multiple currency registries compatible with different data sources or processing engines. For simply ensuring that a currency is sourced in the right registry, use <code>of-registry</code>.</p>
<p>Delegates to <code>io.randomseed.bankster.money/cast</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L186">view source</a></div></div><div class="public anchor" id="var-cast-try"><h3>cast-try</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(cast-try money)</code><code>(cast-try money currency)</code><code>(cast-try money currency rounding)</code></div><div class="doc"><div class="markdown"><p>Soft variant of <code>cast</code>.</p>
<p>Returns <code>nil</code> when casting fails (e.g. missing currency or required rounding).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L209">view source</a></div></div><div class="public anchor" id="var-code-literal"><h3>code-literal</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(code-literal arg)</code></div><div class="doc"><div class="markdown"><p>Tagged literal handler for Money objects expressed as tagged literals in Clojure code. Returns compound forms (parsing function invocations that can be influenced by the runtime environment, e.g. dynamic variables like <code>scale/*rounding-mode*</code>).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-code-readers"><h3>code-readers</h3><h4 class="added">added in 2.2.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Data readers map for currency and money (intended to be used when evaluating Clojure code with tagged literals: #currency and #money). Handlers assigned to literals may emit compound forms, like function call forms (as Clojure code). To operate on EDN data files, see data-readers.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-compare"><h3>compare</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(compare _)</code><code>(compare a b)</code></div><div class="doc"><div class="markdown"><p>Compares monetary amounts of the same currency and scale.</p>
<p>Delegates to <code>io.randomseed.bankster.money/compare</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L557">view source</a></div></div><div class="public anchor" id="var-compare-amounts"><h3>compare-amounts</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(compare-amounts _)</code><code>(compare-amounts a b)</code></div><div class="doc"><div class="markdown"><p>Compares two monetary amounts of the same currency, regardless of their scales. Returns -1 if the first one is less than the second, 0 if equal to, and 1 if it is greater than the second. Nil values are always considered lower when comparing.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-convert"><h3>convert</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(convert money price)</code><code>(convert money price rounding-mode)</code><code>(convert money to-currency exchange-rate)</code><code>(convert money to-currency exchange-rate rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts a monetary amount from one currency to another using the given multiplier (expressing a conversion rate). When two money objects are given, the second one should express a price of 1 unit of the first currency.</p>
<p>When no rounding mode is given and rounding is required during scaling to another currency then the value of dynamic variable <code>io.randomseed.bankster.scale/*rounding-mode*</code> will be used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-currency"><h3>currency</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(currency money)</code><code>(currency a b)</code><code>(currency a b rounding)</code></div><div class="doc"><div class="markdown"><p>Returns Money currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L306">view source</a></div></div><div class="public anchor" id="var-data-literal"><h3>data-literal</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(data-literal arg)</code></div><div class="doc"><div class="markdown"><p>Data reader for Money objects expressed as tagged literals in EDN data files.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-data-readers"><h3>data-readers</h3><h4 class="added">added in 2.2.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Data readers map for currency and money (intended to be used when reading EDN data files containing tagged literals: #currency and #money). Handlers assigned to literals are always emitting constant forms. Please note that tagged literal handlers for Clojure code are using different readers (defined as code-readers).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-dec-major"><h3>dec-major</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(dec-major a)</code></div><div class="doc"><div class="markdown"><p>Decreases major amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-dec-minor"><h3>dec-minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(dec-minor a)</code></div><div class="doc"><div class="markdown"><p>Decreases minor amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-default-registry"><h3>default-registry</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(default-registry)</code></div><div class="doc"><div class="markdown"><p>Returns the default registry (honors <code>io.randomseed.bankster.registry/*default*</code>).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L58">view source</a></div></div><div class="public anchor" id="var-defliteral"><h3>defliteral</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(defliteral c)</code></div><div class="doc"><div class="markdown"><p>For the given currency identifier or a currency object it creates a tagged literal in a form of #money/CURRENCY where the CURRENCY is a currency code. As a side effect it creates a function of name <code>io.randomseed.bankster.money/of-CURRENCY</code> that will handle the literal.</p>
<p>The literals will be bound to <em>data-readers</em> in a local thread.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-distribute"><h3>distribute</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(distribute money n)</code></div><div class="doc"><div class="markdown"><p>Distributes a monetary amount into <code>n</code> as-even-as-possible parts.</p>
<p>Delegates to <code>io.randomseed.bankster.money/distribute</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L359">view source</a></div></div><div class="public anchor" id="var-div"><h3>div</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(div a)</code><code>(div a b)</code><code>(div a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides monetary amounts or numbers according to Money rules.</p>
<p>Delegates to <code>io.randomseed.bankster.money/div</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L495">view source</a></div></div><div class="public anchor" id="var-div-rem"><h3>div-rem</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(div-rem a b)</code></div><div class="doc"><div class="markdown"><p>Alias for rem.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-div-scaled"><h3>div-scaled</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(div-scaled a)</code><code>(div-scaled a b)</code><code>(div-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides two or more amounts of money of the same currency or numbers. Scales and optionally rounds each intermediate result (if there are more divisors).</p>
<p>If the first given argument is a kind of money and one of the divisors is also a kind of Money, the result will be a BigDecimal kind of number. If the earlier value is a kind of Money and the second is a number, the result will be a Money. If the first argument is a number and the second argument is a monetary amount, an exception will be thrown.</p>
<p>For more than 2 arguments, if currency cancels out (Money divided by Money), the intermediate result becomes a regular number, so all consequent divisors must also be regular numbers.</p>
<p>For a single value it returns a division of 1 by the given number. For a monetary value it will throw, because dividing a regular number by Money is not allowed.</p>
<p>For more than 2 arguments it repeatedly divides their values as described and re-scales each result to match the scale of the first encountered monetary amount. If there are no monetary amounts involved the scale is calculated dynamically.</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers and for monetary values of auto-scaled currencies the dynamic rescaling is performed to handle corner cases where there would be a non-terminating decimal expansion. Trailing zeros are stripped before any calculation.</p>
<p>If the scaling requires rounding then enclosing the expression within <code>with-rounding</code> (also present in <code>io.randomseed.bankster.scale</code> namespace) is required.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-eq-am.3F"><h3>eq-am?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(eq-am? _)</code><code>(eq-am? a b)</code><code>(eq-am? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the monetary amounts and their currencies are equal, regardless of their scales.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-eq.3F"><h3>eq?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(eq? _)</code><code>(eq? a b)</code><code>(eq? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if monetary amounts and currencies are equal.</p>
<p>Delegates to <code>io.randomseed.bankster.money/eq?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L503">view source</a></div></div><div class="public anchor" id="var-format"><h3>format</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(format money)</code><code>(format money locale)</code><code>(format money locale opts)</code></div><div class="doc"><div class="markdown"><p>Formats the given amount of money as a string according to localization rules.</p>
<p>Delegates to <code>io.randomseed.bankster.money/format</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L367">view source</a></div></div><div class="public anchor" id="var-format-with"><h3>format-with</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(format-with formatter money)</code></div><div class="doc"><div class="markdown"><p>Formats the amount of money using the formatter provided. Formatters can be created with <code>io.randomseed.bankster.currency/formatter</code> and <code>io.randomseed.bankster.currency/formatter-extended</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-from-edn"><h3>from-edn</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(from-edn x)</code><code>(from-edn x opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from EDN string or map.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L631">view source</a></div></div><div class="public anchor" id="var-from-edn-text"><h3>from-edn-text</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(from-edn-text x)</code><code>(from-edn-text x opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from raw EDN text.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L649">view source</a></div></div><div class="public anchor" id="var-from-json"><h3>from-json</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(from-json x)</code><code>(from-json x opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from JSON string or map.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L666">view source</a></div></div><div class="public anchor" id="var-from-json-map"><h3>from-json-map</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(from-json-map m)</code><code>(from-json-map m opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from a JSON map.</p>
<p>Options: - <code>:registry</code>      - registry to use for currency lookup (default: <code>registry/get</code>) - <code>:rounding-mode</code> - <code>java.math.RoundingMode</code> for rescaling</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-from-json-string"><h3>from-json-string</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(from-json-string s)</code><code>(from-json-string s opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from a JSON string.</p>
<p>Options: - <code>:registry</code>      - registry to use for currency lookup (default: <code>registry/get</code>) - <code>:rounding-mode</code> - <code>java.math.RoundingMode</code> for rescaling</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-from-json-text"><h3>from-json-text</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(from-json-text x)</code><code>(from-json-text x opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from raw JSON text.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L684">view source</a></div></div><div class="public anchor" id="var-ge.3F"><h3>ge?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(ge? _)</code><code>(ge? a b)</code><code>(ge? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the first monetary amount is greater than or equal to the second.</p>
<p>Delegates to <code>io.randomseed.bankster.money/ge?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L530">view source</a></div></div><div class="public anchor" id="var-gt.3F"><h3>gt?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(gt? _)</code><code>(gt? a b)</code><code>(gt? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the first monetary amount is greater than the second.</p>
<p>Delegates to <code>io.randomseed.bankster.money/gt?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L521">view source</a></div></div><div class="public anchor" id="var-inc-major"><h3>inc-major</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(inc-major a)</code></div><div class="doc"><div class="markdown"><p>Increases major amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-inc-minor"><h3>inc-minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(inc-minor a)</code></div><div class="doc"><div class="markdown"><p>Increases minor amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-info"><h3>info</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(info money)</code></div><div class="doc"><div class="markdown"><p>Returns a map with <code>:currency</code> and <code>:amount</code> for the given money-like input.</p>
<p>Delegates to <code>io.randomseed.bankster.money/info</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L316">view source</a></div></div><div class="public anchor" id="var-is-neg-or-zero.3F"><h3>is-neg-or-zero?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(is-neg-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a negative number or zero.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-is-neg.3F"><h3>is-neg?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(is-neg? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a negative number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-is-pos-or-zero.3F"><h3>is-pos-or-zero?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(is-pos-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number or zero.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-is-pos.3F"><h3>is-pos?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(is-pos? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-is-zero.3F"><h3>is-zero?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(is-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is zero.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-le.3F"><h3>le?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(le? _)</code><code>(le? a b)</code><code>(le? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the first monetary amount is less than or equal to the second.</p>
<p>Delegates to <code>io.randomseed.bankster.money/le?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L548">view source</a></div></div><div class="public anchor" id="var-lt.3F"><h3>lt?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(lt? _)</code><code>(lt? a b)</code><code>(lt? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the first monetary amount is less than the second.</p>
<p>Delegates to <code>io.randomseed.bankster.money/lt?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L539">view source</a></div></div><div class="public anchor" id="var-major"><h3>major</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major amount)</code><code>(major amount currency)</code><code>(major amount currency rounding)</code><code>(major amount currency registry)</code><code>(major amount currency rounding registry)</code></div><div class="doc"><div class="markdown"><p>First-class constructor for major-part amounts (amount-first).</p>
<p>Delegates to <code>io.randomseed.bankster.money/major-value</code>.</p>
<p>When registry is <code>true</code>, the default registry (global or dynamically bound) is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L232">view source</a></div></div><div class="public anchor" id="var-major-.3Eint"><h3>major-&gt;int</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount as an int number widened to long.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-major-.3Elong"><h3>major-&gt;long</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount as a long number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-major-minor"><h3>major-minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-minor a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-major-minor-.3Eint"><h3>major-minor-&gt;int</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-minor-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount represented as integer numbers (widened to long).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-major-minor-.3Elong"><h3>major-minor-&gt;long</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-minor-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount represented as long numbers.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-major-of"><h3>major-of</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-of)</code><code>(major-of a)</code><code>(major-of a b)</code><code>(major-of a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like <code>io.randomseed.bankster.money/of</code> but sets the amount of major part only.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L701">view source</a></div></div><div class="public anchor" id="var-major-value"><h3>major-value</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(major-value a)</code><code>(major-value currency amount)</code><code>(major-value currency amount rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>Money</code> object for the given value which will become a major part of the amount. If the given number has fractional part it will be truncated. If the currency is not given, it will try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>For simple money creation the following macros may be a convenient way to go: of, of-major, of-minor.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-map-.3ELastMoney"><h3>map-&gt;LastMoney</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(map-&gt;LastMoney m__8001__auto__)</code></div><div class="doc"><div class="markdown"><p>Factory function for class io.randomseed.bankster.money.LastMoney, taking a map of keywords to field values.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-max"><h3>max</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(max a)</code><code>(max a b)</code><code>(max a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for max-amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-max-amount"><h3>max-amount</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(max-amount a)</code><code>(max-amount a b)</code><code>(max-amount a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns the greatest of the monetary amounts.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-min"><h3>min</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(min a)</code><code>(min a b)</code><code>(min a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for min-amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-min-amount"><h3>min-amount</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(min-amount a)</code><code>(min-amount a b)</code><code>(min-amount a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns the least of the monetary amounts.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-minor"><h3>minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(minor amount)</code><code>(minor amount currency)</code><code>(minor amount currency rounding)</code><code>(minor amount currency registry)</code><code>(minor amount currency rounding registry)</code></div><div class="doc"><div class="markdown"><p>First-class constructor for minor-part amounts (amount-first).</p>
<p>Delegates to <code>io.randomseed.bankster.money/minor-value</code>.</p>
<p>When registry is <code>true</code>, the default registry (global or dynamically bound) is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L264">view source</a></div></div><div class="public anchor" id="var-minor-.3Eint"><h3>minor-&gt;int</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(minor-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount as an int number widened to long.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-minor-.3Elong"><h3>minor-&gt;long</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(minor-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount as a long number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-minor-of"><h3>minor-of</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(minor-of)</code><code>(minor-of a)</code><code>(minor-of a b)</code><code>(minor-of a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like <code>io.randomseed.bankster.money/of</code> but sets the amount of minor part only.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L702">view source</a></div></div><div class="public anchor" id="var-minor-value"><h3>minor-value</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(minor-value a)</code><code>(minor-value currency amount)</code><code>(minor-value currency amount rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>Money</code> object for the given value which will become a minor part of the amount. If the given number has fractional part it will be truncated. If the currency is not given, it will try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>For simple money creation the following macros may be a convenient way to go: of, of-major, of-minor.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-money.3F"><h3>money?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(money? x)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> when <code>x</code> is an instance of <code>io.randomseed.bankster.Money</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L599">view source</a></div></div><div class="public anchor" id="var-mul"><h3>mul</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(mul)</code><code>(mul a)</code><code>(mul a b)</code><code>(mul a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies monetary amount by number or other values as allowed.</p>
<p>Delegates to <code>io.randomseed.bankster.money/mul</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L486">view source</a></div></div><div class="public anchor" id="var-mul-scaled"><h3>mul-scaled</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(mul-scaled)</code><code>(mul-scaled a)</code><code>(mul-scaled a b)</code><code>(mul-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies two or more values where one may be a Money object. If one of the values is a kind of Money then the result will also be a kind of Money. For a single value it simply returns it. For more than 2 arguments it repeatedly multiplies them as described.</p>
<p>When there is a multiplication of a monetary value by the regular number, the final result of all operations is re-scaled to match the scale of the monetary amount. If the scaling requires rounding, enclosing the expression within <code>io.randomseed.bankster.scale/with-rounding</code> is required (the macro is aliased under the same name in this namespace).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>Rescaling is performed on each operation unless/until all values are regular numbers (without any Money object among them).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-ne-am.3F"><h3>ne-am?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(ne-am? _)</code><code>(ne-am? a b)</code><code>(ne-am? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts or their currencies are different, regardless of their scales.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-ne.3F"><h3>ne?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(ne? _)</code><code>(ne? a b)</code><code>(ne? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if monetary amounts or currencies are not equal.</p>
<p>Delegates to <code>io.randomseed.bankster.money/ne?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L512">view source</a></div></div><div class="public anchor" id="var-neg"><h3>neg</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(neg a)</code></div><div class="doc"><div class="markdown"><p>Returns the negated amount of the given money. For a negative amount it will reverse its sign. Same as <code>(sub a)</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-neg-or-zero.3F"><h3>neg-or-zero?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(neg-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-neg-or-zero?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-neg.3F"><h3>neg?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(neg? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the monetary amount is negative.</p>
<p>Delegates to <code>io.randomseed.bankster.money/is-neg?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L574">view source</a></div></div><div class="public anchor" id="var-normalize"><h3>normalize</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(normalize amount)</code><code>(normalize amount currency)</code><code>(normalize amount currency rounding)</code></div><div class="doc"><div class="markdown"><p>Normalizes money-like input into a <code>Money</code> value.</p>
<ul>
<li><code>([amount])</code> accepts <code>Money</code>, EDN-like map (via <code>money/of-map</code>), or a literal amount (delegates to <code>money/parse</code>).</li>
<li><code>([amount currency])</code> and <code>([amount currency rounding])</code> use amount-first order and delegate to <code>money/parse</code>. Rounding is parsed via <code>scale/post-parse-rounding</code>.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L443">view source</a></div></div><div class="public anchor" id="var-not.3D"><h3>not=</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(not= a)</code><code>(not= a b)</code><code>(not= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for ne?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-not.3D.3D"><h3>not==</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(not== a)</code><code>(not== a b)</code><code>(not== a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for ne-am?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-of"><h3>of</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(of)</code><code>(of a)</code><code>(of a b)</code><code>(of a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of money as a Money object consisting of a currency and a value. Currency can be a currency object and for registered currencies: a keyword, a symbol or a string (e.g. <code>EUR</code>, <code>:EUR</code>, PLN or crypto/ETH), or even a number (for ISO-compliant currencies).</p>
<p>The given amount can be any numeric value or a string that can be converted to <code>java.math.BigDecimal</code>.</p>
<p>When a number must be downscaled to fulfill the number of decimal places for a currency, rounding mode must be given, which may be a symbol, a keyword or a string of the following:</p>
<ul>
<li><code>CEILING</code>     - rounds towards positive infinity.</li>
<li><code>DOWN</code>        - rounds towards zero.</li>
<li><code>FLOOR</code>       - rounds towards negative infinity.</li>
<li><code>HALF_DOWN</code>   - rounds towards nearest neighbor unless both neighbors are equidistant, in which case rounds down.</li>
<li><code>HALF_EVEN</code>   - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds towards the even.</li>
<li><code>HALF_UP</code>     - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds up.</li>
<li><code>UP</code>           rounds away from zero</li>
<li><code>UNNECESSARY</code> - asserts that the requested operation has an exact result, hence no rounding is necessary.</li>
</ul>
<p>To create a monetary object using function, call <code>io.randomseed.bankster.money/value</code>.</p>
<p>Be careful about using number literals for big-scale amounts (1617 digits). Use either big decimal literals, e.g. 1234.45689101112M, or strings.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-of-major"><h3>of-major</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(of-major)</code><code>(of-major a)</code><code>(of-major a b)</code><code>(of-major a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like <code>io.randomseed.bankster.money/of</code> but sets the amount of major part only.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-of-map"><h3>of-map</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(of-map m)</code></div><div class="doc"><div class="markdown"><p>Creates Money from a map representation.</p>
<p>Expected keys: - <code>:currency</code> (or <code>:cur</code>)  - any currency representation accepted by Bankster - <code>:amount</code>               - amount as BigDecimal/number/string - optional <code>:rounding-mode</code> / <code>:rounding</code></p>
<p>This is a general-purpose helper meant for EDN-like data. It accepts keyword/symbol rounding-mode names (e.g. <code>:HALF_UP</code>), not only <code>java.math.RoundingMode</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-of-minor"><h3>of-minor</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(of-minor)</code><code>(of-minor a)</code><code>(of-minor a b)</code><code>(of-minor a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like <code>io.randomseed.bankster.money/of</code> but sets the amount of minor part only.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-of-registry"><h3>of-registry</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(of-registry money)</code><code>(of-registry registry money)</code><code>(of-registry registry money rounding)</code></div><div class="doc"><div class="markdown"><p>Ensures that a currency of the given money originates from the given registry. If the registry is not given and a dynamic registry is not set, the default one is used. Rescales the amount if needed to match the nominal scale. Optional rounding-mode can be supplied to be used when downscaling is needed (nominal currency from a registry has lower number of decimal places than the amount of money).</p>
<p>Money can be expressed as a <code>Money</code> object or any other object that will create <code>Money</code> when passed to the <code>value</code> function. Returns money.</p>
<p>When registry is <code>true</code>, the default registry (global or dynamically bound) is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L163">view source</a></div></div><div class="public anchor" id="var-on-amount"><h3>on-amount</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(on-amount money f)</code><code>(on-amount money f a)</code><code>(on-amount money f a b)</code><code>(on-amount money f a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Performs an operation expressed with a function <code>f</code> on an amount of the given money. Additional arguments will be passed to the <code>f</code>. Returns the money with the amount updated. The function <code>f</code> must return a number. Short-circuits on <code>nil</code> as an argument. Rescales the result to the existing scale of an amount, not the nominal scale of a currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-parse"><h3>parse</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(parse amount)</code><code>(parse currency amount)</code><code>(parse currency amount rounding)</code></div><div class="doc"><div class="markdown"><p>Parses money-like input into a <code>Money</code> value.</p>
<p>Delegates to <code>io.randomseed.bankster.money/parse</code>. Rounding is parsed via <code>scale/post-parse-rounding</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L383">view source</a></div></div><div class="public anchor" id="var-parse-major"><h3>parse-major</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(parse-major amount)</code><code>(parse-major currency amount)</code><code>(parse-major currency amount rounding)</code></div><div class="doc"><div class="markdown"><p>Parses money-like input and treats the amount as major part.</p>
<p>Delegates to <code>io.randomseed.bankster.money/parse-major</code>. Rounding is parsed via <code>scale/post-parse-rounding</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L403">view source</a></div></div><div class="public anchor" id="var-parse-minor"><h3>parse-minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(parse-minor amount)</code><code>(parse-minor currency amount)</code><code>(parse-minor currency amount rounding)</code></div><div class="doc"><div class="markdown"><p>Parses money-like input and treats the amount as minor part.</p>
<p>Delegates to <code>io.randomseed.bankster.money/parse-minor</code>. Rounding is parsed via <code>scale/post-parse-rounding</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L423">view source</a></div></div><div class="public anchor" id="var-pos"><h3>pos</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(pos a)</code></div><div class="doc"><div class="markdown"><p>Returns the given money object.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-pos-or-zero.3F"><h3>pos-or-zero?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(pos-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-pos-or-zero?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-pos.3F"><h3>pos?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(pos? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the monetary amount is positive.</p>
<p>Delegates to <code>io.randomseed.bankster.money/is-pos?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L565">view source</a></div></div><div class="public anchor" id="var-readers"><h3>readers</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(readers)</code><code>(readers registry)</code></div><div class="doc"><div class="markdown"><p>Returns a data readers map (tag symbol -&gt; handler function) suitable for <code>clojure.edn/read</code> / <code>clojure.edn/read-string</code>.</p>
<p>The returned map always includes the base tags: - <code>#money</code> and <code>#bankster.money</code>, - <code>#currency</code> and <code>#bankster.currency</code>.</p>
<p>When a registry is available it also includes tags of form <code>#money/NS</code> (and <code>#bankster.money/NS</code>) for each currency namespace present in the registry, so EDN can disambiguate codes between currency domains (e.g. <code>#money/crypto[1 ETH]</code>).</p>
<p>Note: this helper does not mutate <code>clojure.core/*data-readers*</code>.</p>
<p>When <code>registry</code> is <code>true</code>, the default registry (global or dynamically bound) is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-registry-or-default"><h3>registry-or-default</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(registry-or-default registry)</code></div><div class="doc"><div class="markdown"><p>Resolves <code>true</code> or <code>nil</code> into the current default registry, otherwise returns the given value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L64">view source</a></div></div><div class="public anchor" id="var-rem"><h3>rem</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(rem a b)</code><code>(rem a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Returns the remainder of dividing an amount of money by the given number. For two Money objects the result is a BigDecimal. When only the first argument is a kind of Money, the result will also be a Money, rescaled to the scale of the monetary amount. When the rounding mode is not given, <code>io.randomseed.bankster.scale/*rounding-mode*</code> will be used when set.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-rescale"><h3>rescale</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(rescale money)</code><code>(rescale money scale)</code><code>(rescale money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Same as <code>scale</code> but its unary variant will rescale an amount of the given money to conform it to its currency settings instead of returning the scale. It has the same effect as calling <code>io.randomseed.bankster.scale/apply</code> on a Money object.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-rescaled.3F"><h3>rescaled?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(rescaled? a)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if the given monetary value has different scale than its currency (so it was rescaled). Returns <code>false</code> if the scale is no different. Returns <code>nil</code> if the currency does not have a fixed scale.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-resolve"><h3>resolve</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(resolve)</code><code>(resolve amount)</code><code>(resolve amount currency)</code><code>(resolve amount currency rounding)</code><code>(resolve amount currency registry)</code><code>(resolve amount currency rounding registry)</code></div><div class="doc"><div class="markdown"><p>First-class Money constructor with amount-first argument order.</p>
<p>Delegates to <code>io.randomseed.bankster.money/value</code> and resolves currency via <code>io.randomseed.bankster.currency/unit</code> when a currency argument is provided.</p>
<p>Arity:</p>
<ul>
<li><code>()</code> creates zero in the default currency.</li>
<li><code>([amount])</code> delegates to unary <code>money/value</code>.</li>
<li><code>([amount currency])</code> uses amount + currency.</li>
<li><code>([amount currency rounding])</code> uses amount + currency + rounding.</li>
<li><code>([amount currency registry])</code> uses amount + currency (resolved using registry).</li>
<li><code>([amount currency rounding registry])</code> explicit rounding + registry for resolution.</li>
</ul>
<p><code>currency</code> may be a <code>Currency</code>, an identifier (keyword/symbol/string/number), or a currency map (lookup spec).</p>
<p>When a registry is consulted and the currency cannot be resolved, it throws.</p>
<p>When registry is <code>true</code>, the default registry (global or dynamically bound) is used.</p>
<p><code>rounding</code> may be a <code>java.math.RoundingMode</code> or a keyword/symbol/string like HALF_UP (see <code>scale/post-parse-rounding</code>). If no default currency is configured and the amount does not encode one, <code>money/value</code> will throw.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L71">view source</a></div></div><div class="public anchor" id="var-resolve-try"><h3>resolve-try</h3><div class="usage"><code>(resolve-try)</code><code>(resolve-try amount)</code><code>(resolve-try amount currency)</code><code>(resolve-try amount currency rounding)</code><code>(resolve-try amount currency registry)</code><code>(resolve-try amount currency rounding registry)</code></div><div class="doc"><div class="markdown"><p>Non-throwing variant of <code>resolve</code> for currency resolution.</p>
<p>Uses <code>io.randomseed.bankster.currency/unit-try</code> and returns <code>nil</code> when the currency cannot be resolved in the given (or default) registry. Accepts the same argument shapes as <code>resolve</code>. Rounding is parsed.</p>
<p>When registry is <code>true</code>, the default registry (global or dynamically bound) is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L126">view source</a></div></div><div class="public anchor" id="var-round"><h3>round</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(round money scale)</code><code>(round money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Rounds the amount of money using the given scale and rounding mode. Returns money with rounded amount preserving the original scale. If the rounding mode is not given the one from <code>scale/*rounding-mode*</code> is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-round-to"><h3>round-to</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(round-to money)</code><code>(round-to money interval)</code><code>(round-to money interval rounding)</code></div><div class="doc"><div class="markdown"><p>Rounds a Money to a given interval.</p>
<p>Delegates to <code>io.randomseed.bankster.money/round-to</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L339">view source</a></div></div><div class="public anchor" id="var-rounding-mode"><h3>rounding-mode</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(rounding-mode)</code><code>(rounding-mode default)</code></div><div class="doc"><div class="markdown"><p>Returns the current rounding mode.</p>
<p>Delegates to <code>io.randomseed.bankster.scale/rounding-mode</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L36">view source</a></div></div><div class="public anchor" id="var-same-currencies.3F"><h3>same-currencies?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(same-currencies? a b)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if both currencies are the same for the given money objects.</p>
<p>Delegates to <code>io.randomseed.bankster.money/same-currencies?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L591">view source</a></div></div><div class="public anchor" id="var-same-currency-ids.3F"><h3>same-currency-ids?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(same-currency-ids? a b)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if both currencies have the same IDs for the given money objects.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(scale money)</code><code>(scale money scale)</code><code>(scale money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Re-scales the given money using a scale (number of decimal places) and an optional rounding mode (required when downscaling). The internal scale for a currency object is NOT updated. If no scale is given, returns the current scale of the amount (not the nominal scale of a currency). For auto-scaled currencies this means the scale tracks the current value (it grows/shrinks to fit the amount).</p>
<p>Use with caution since it can make money object no longer compliant with a scale of the currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-scale-apply"><h3>scale-apply</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(scale-apply x)</code><code>(scale-apply x sc)</code><code>(scale-apply x sc rounding)</code></div><div class="doc"><div class="markdown"><p>Applies scaling to a value.</p>
<p>Delegates to <code>io.randomseed.bankster.scale/apply</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L46">view source</a></div></div><div class="public anchor" id="var-set-amount"><h3>set-amount</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(set-amount money v)</code><code>(set-amount money v rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Sets the amount of the given monetary object. Rescales value <code>v</code> to a scale of the given monetary object, not the nominal scale of its currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-split-scale-int"><h3>split-scale-int</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(split-scale-int m)</code></div><div class="doc"><div class="markdown"><p>Expands to an (int ) expression computing scale for Money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-strip"><h3>strip</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(strip money)</code></div><div class="doc"><div class="markdown"><p>Strips trailing zeros from a <code>Money</code> amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L332">view source</a></div></div><div class="public anchor" id="var-stripped-amount"><h3>stripped-amount</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(stripped-amount money)</code><code>(stripped-amount a b)</code><code>(stripped-amount a b r)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of the given money with trailing zeros removed. For more than one argument the money is created ad-hoc using a and b objects passed to the function named value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-sub"><h3>sub</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(sub a)</code><code>(sub a b)</code><code>(sub a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Subtracts monetary amounts of the same currency.</p>
<p>Delegates to <code>io.randomseed.bankster.money/sub</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L477">view source</a></div></div><div class="public anchor" id="var-sub-major"><h3>sub-major</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(sub-major a b)</code></div><div class="doc"><div class="markdown"><p>Decreases major amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-sub-minor"><h3>sub-minor</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(sub-minor a b)</code></div><div class="doc"><div class="markdown"><p>Decreases minor amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated. If the major component comes from a money object, its currency must match the given money. This check is performed to prevent mistakes; if you need to subtract minor parts of money with different currencies, use <code>(minor x)</code> on the second argument.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-sub-scaled"><h3>sub-scaled</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(sub-scaled a)</code><code>(sub-scaled a b)</code><code>(sub-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for sub.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-to-json-map"><h3>to-json-map</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(to-json-map money)</code><code>(to-json-map money opts)</code></div><div class="doc"><div class="markdown"><p>Serializes a money-like value to a JSON-friendly map.</p>
<p>The returned map uses keyword keys but is safe to pass to JSON encoders.</p>
<p>Options: - <code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code>  <code>"ETH"</code></p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-to-json-string"><h3>to-json-string</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(to-json-string money)</code><code>(to-json-string money opts)</code></div><div class="doc"><div class="markdown"><p>Serializes a money-like value to a canonical JSON string.</p>
<p>Options: - <code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code>  <code>"ETH"</code></p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-to-map"><h3>to-map</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(to-map money)</code></div><div class="doc"><div class="markdown"><p>Coerces a money-like value into an EDN-friendly map.</p>
<p>Canonical shape: - <code>:currency</code> - currency ID keyword (may be namespaced, e.g. <code>:crypto/USDT</code>) - <code>:amount</code>   - BigDecimal amount (scale preserved)</p>
<p>This is intended as a stable, data-oriented representation (close to what Bankster already supports in <code>#money{...}</code> literals). For JSON wire formats see <code>to-json-map</code> / <code>to-json-string</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-to-units"><h3>to-units</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(to-units amount sc)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-unparse"><h3>unparse</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(unparse money)</code><code>(unparse a b)</code><code>(unparse a b r)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with symbolic representations of amount and currency. Useful for printing to EDN or displaying on a console. The letter M will be added to the amount if its precision exceeds 15. For more than one argument the money is created ad-hoc using a and b objects passed to the function named value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-value"><h3>value</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(value num)</code><code>(value currency num)</code><code>(value currency num rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>Money</code> object for the given value <code>num</code> which will become an amount. If the <code>currency</code> is not given it will try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional <code>rounding-mode</code> should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>In its unary form, when the argument is not numeric, it will try to get the currency object (identified by a string, a symbol or a keyword) from the default, global registry of currencies.</p>
<p>For simple money creation the following macros may be convenient way to go: <code>of</code>, <code>of-major</code>, <code>of-minor</code>.</p>
<p>Be careful about using number literals for big-scale amounts (1617 digits). Use either big decimal literals, e.g. 1234.45689101112M, or strings.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L704">view source</a></div></div><div class="public anchor" id="var-with-currency"><h3>with-currency</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(with-currency currency &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a default currency in a lexical context of the body.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L31">view source</a></div></div><div class="public anchor" id="var-with-registry"><h3>with-registry</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(with-registry registry &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a registry in a lexical context of the body to be used instead of a global one in functions which require the registry and it was not passed as an argument.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L32">view source</a></div></div><div class="public anchor" id="var-with-rescaling"><h3>with-rescaling</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(with-rescaling rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Enables re-scaling on some consecutive operations which support it and sets the rounding mode for operations on scaled values. Internally sets <code>*each*</code> to true and <code>*rounding-mode*</code> to the given value.</p>
<p>The first argument should be a valid rounding (from <code>io.randomseed.bankster.scale</code> or <code>java.math.RoundingMode</code>) or one of the following:</p>
<p>CEILING     - rounds towards positive infinity. DOWN        - rounds towards zero. FLOOR       - rounds towards negative infinity. HALF_DOWN   - rounds towards nearest neighbor unless both neighbors are equidistant, in which case rounds down. HALF_EVEN   - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds towards the even. HALF_UP     - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds up. UP           rounds away from zero UNNECESSARY - asserts that the requested operation has an exact result, hence no rounding is necessary.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L34">view source</a></div></div><div class="public anchor" id="var-with-rounding"><h3>with-rounding</h3><h4 class="type">macro</h4><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(with-rounding rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets the rounding mode for operations on scaled values.</p>
<p>The first argument should be a valid rounding (from <code>io.randomseed.bankster.scale</code> or <code>java.math.RoundingMode</code>) or one of the following:</p>
<p>CEILING     - rounds towards positive infinity. DOWN        - rounds towards zero. FLOOR       - rounds towards negative infinity. HALF_DOWN   - rounds towards nearest neighbor unless both neighbors are equidistant, in which case rounds down. HALF_EVEN   - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds towards the even. HALF_UP     - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds up. UP           rounds away from zero UNNECESSARY - asserts that the requested operation has an exact result, hence no rounding is necessary.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L33">view source</a></div></div><div class="public anchor" id="var-zero.3F"><h3>zero?</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(zero? money)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if the given monetary amount is zero.</p>
<p>Delegates to <code>io.randomseed.bankster.money/is-zero?</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.1/src/io/randomseed/bankster/api/money.clj#L583">view source</a></div></div></div></body></html>