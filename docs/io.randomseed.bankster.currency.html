<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.currency documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">1.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="40_development.html"><div class="inner"><span>Development</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch current"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-*default*"><div class="inner"><span>*default*</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-add-countries"><div class="inner"><span>add-countries</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-add-countries.21"><div class="inner"><span>add-countries!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-auto-scaled"><div class="inner"><span>auto-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-auto-scaled.3F"><div class="inner"><span>auto-scaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-big.3F"><div class="inner"><span>big?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-code"><div class="inner"><span>code</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-combank.3F"><div class="inner"><span>combank?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-commodity.3F"><div class="inner"><span>commodity?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-config-.3Eregistry"><div class="inner"><span>config-&gt;registry</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-countries"><div class="inner"><span>countries</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-crypto.3F"><div class="inner"><span>crypto?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-currency.3F"><div class="inner"><span>currency?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-decentralised.3F"><div class="inner"><span>decentralised?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-decentralized.3F"><div class="inner"><span>decentralized?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-domain"><div class="inner"><span>domain</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-experimental.3F"><div class="inner"><span>experimental?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-fiat.3F"><div class="inner"><span>fiat?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-fiduciary.3F"><div class="inner"><span>fiduciary?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-has-country.3F"><div class="inner"><span>has-country?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-has-kind.3F"><div class="inner"><span>has-kind?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-has-numeric-id.3F"><div class="inner"><span>has-numeric-id?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-in-domain.3F"><div class="inner"><span>in-domain?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-iso.3F"><div class="inner"><span>iso?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-kind"><div class="inner"><span>kind</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-kind-of.3F"><div class="inner"><span>kind-of?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-lit"><div class="inner"><span>lit</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-map-.3Enew"><div class="inner"><span>map-&gt;new</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-Monetary"><div class="inner"><span>Monetary</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.currency.html#var-defined.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>defined?</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.currency.html#var-id"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>id</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.currency.html#var-same-ids.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>same-ids?</span></div></a></li><li class="depth-2"><a href="io.randomseed.bankster.currency.html#var-unit"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-new"><div class="inner"><span>new</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-new-currency"><div class="inner"><span>new-currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-no-numeric-id"><div class="inner"><span>no-numeric-id</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-nr"><div class="inner"><span>nr</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-ns"><div class="inner"><span>ns</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-numeric-id"><div class="inner"><span>numeric-id</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-of"><div class="inner"><span>of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-of-country"><div class="inner"><span>of-country</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-official.3F"><div class="inner"><span>official?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-possible.3F"><div class="inner"><span>possible?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-register"><div class="inner"><span>register</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-register.21"><div class="inner"><span>register!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-remove-countries"><div class="inner"><span>remove-countries</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-remove-countries.21"><div class="inner"><span>remove-countries!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-sc"><div class="inner"><span>sc</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-set-default.21"><div class="inner"><span>set-default!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-set-default-registry.21"><div class="inner"><span>set-default-registry!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-short-code"><div class="inner"><span>short-code</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-standard.3F"><div class="inner"><span>standard?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-unregister"><div class="inner"><span>unregister</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-unregister.21"><div class="inner"><span>unregister!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-unset-default.21"><div class="inner"><span>unset-default!</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-val-auto-scaled.3F"><div class="inner"><span>val-auto-scaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-with"><div class="inner"><span>with</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.currency.html#var-with-registry"><div class="inner"><span>with-registry</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.currency</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-*default*"><h3>*default*</h3><h4 class="dynamic">dynamic</h4><h4 class="added">added in 1.0.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Default currency unit to be applied when creating Money objects without the currency specified.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L38">view source</a></div></div><div class="public anchor" id="var-add-countries"><h3>add-countries</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-countries registry currency country-ids)</code></div><div class="doc"><div class="markdown"><p>Associates the given country or countries with a currency. If the currency does not exist, exception is thrown. If the currency exists but differs in any detail from the existing currency from the registry, exception is thrown. If the currency exists and equals to the given in any aspect, country associations are added. Links from other countries to the currency are not removed unless the country is already linked with some other currency; in this case it will be unlinked first.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L560">view source</a></div></div><div class="public anchor" id="var-add-countries.21"><h3>add-countries!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-countries! currency country-ids)</code></div><div class="doc"><div class="markdown"><p>Associates the given country (a keyword) or countries (seqable collection of keywords) with a currency in the global registry. If the currency does not exist, exception is thrown. If the currency exists but differs in any detail from the existing currency from the registry, exception is thrown. If the currency exists and equals to the given in any aspect, country associations are added. Links from other countries to the currency are not removed unless the country is already linked with some other currency; in this case it will be unlinked first.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L649">view source</a></div></div><div class="public anchor" id="var-auto-scaled"><h3>auto-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Expresses the scale of currency that is automatic and not limited to certain decimal places.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L28">view source</a></div></div><div class="public anchor" id="var-auto-scaled.3F"><h3>auto-scaled?</h3><div class="usage"><code>(auto-scaled? c)</code><code>(auto-scaled? c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for big?.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L779">view source</a></div></div><div class="public anchor" id="var-big.3F"><h3>big?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(big? c)</code><code>(big? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency has an automatic scale (decimal places).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L773">view source</a></div></div><div class="public anchor" id="var-code"><h3>code</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(code c)</code><code>(code c registry)</code></div><div class="doc"><div class="markdown"><p>Returns a currency code as a string for the given currency object. If the currency identifier is namespaced the namespace will be used as a prefix and slash character as a separator.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L399">view source</a></div></div><div class="public anchor" id="var-combank.3F"><h3>combank?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(combank? c)</code><code>(combank? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a kind of :COMBANK.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L836">view source</a></div></div><div class="public anchor" id="var-commodity.3F"><h3>commodity?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(commodity? c)</code><code>(commodity? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a kind of :COMMODITY.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L842">view source</a></div></div><div class="public anchor" id="var-config-.3Eregistry"><h3>config-&gt;registry</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(config-&gt;registry)</code><code>(config-&gt;registry resource-path)</code><code>(config-&gt;registry resource-path regi)</code></div><div class="doc"><div class="markdown"><p>Loads currencies and countries from an EDN file. First argument should be a function used to construct new currency objects and the second should be a string with a path to an EDN resource file containing registry data. Returns a registry initialized using values from the EDN file.</p>
<p>If there are 2 arguments the last one should be an existing registry to use instead creating an empty one.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L673">view source</a></div></div><div class="public anchor" id="var-countries"><h3>countries</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(countries c)</code><code>(countries c registry)</code></div><div class="doc"><div class="markdown"><p>Returns a set of country IDs (keywords) for which the given currency is main currency. If there are no countries associated with a currency, returns nil.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L420">view source</a></div></div><div class="public anchor" id="var-crypto.3F"><h3>crypto?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(crypto? c)</code><code>(crypto? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a cryptocurrency. It is just a helper that check if the domain of a currency equals to :CRYPTO.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L785">view source</a></div></div><div class="public anchor" id="var-currency.3F"><h3>currency?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(currency? c)</code><code>(currency? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given value is represented by a valid currency object.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L736">view source</a></div></div><div class="public anchor" id="var-decentralised.3F"><h3>decentralised?</h3><div class="usage"><code>(decentralised? c)</code><code>(decentralised? c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for decentralized?</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L854">view source</a></div></div><div class="public anchor" id="var-decentralized.3F"><h3>decentralized?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(decentralized? c)</code><code>(decentralized? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a kind of :DECENTRALIZED.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L848">view source</a></div></div><div class="public anchor" id="var-domain"><h3>domain</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(domain c)</code><code>(domain c registry)</code></div><div class="doc"><div class="markdown"><p>Returns currency domain as a keyword. For currencies with simple identifiers it will be :ISO-4217. For currencies with namespace-qualified identifiers it will be the upper-cased namespace name (e.g. :CRYPTO) set during creation a currency object.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L368">view source</a></div></div><div class="public anchor" id="var-experimental.3F"><h3>experimental?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(experimental? c)</code><code>(experimental? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a kind of :EXPERIMENTAL.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L860">view source</a></div></div><div class="public anchor" id="var-fiat.3F"><h3>fiat?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(fiat? c)</code><code>(fiat? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a kind of :FIAT.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L824">view source</a></div></div><div class="public anchor" id="var-fiduciary.3F"><h3>fiduciary?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(fiduciary? c)</code><code>(fiduciary? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is a kind of :FIDUCIARY.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L830">view source</a></div></div><div class="public anchor" id="var-has-country.3F"><h3>has-country?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(has-country? c)</code><code>(has-country? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency has at least one country for which it is an official currency.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L757">view source</a></div></div><div class="public anchor" id="var-has-kind.3F"><h3>has-kind?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(has-kind? c)</code><code>(has-kind? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency has its kind defined.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L812">view source</a></div></div><div class="public anchor" id="var-has-numeric-id.3F"><h3>has-numeric-id?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(has-numeric-id? c)</code><code>(has-numeric-id? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency has a numeric ID.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L751">view source</a></div></div><div class="public anchor" id="var-in-domain.3F"><h3>in-domain?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(in-domain? ns c)</code><code>(in-domain? ns c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency has a domain set to the first given argument.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L766">view source</a></div></div><div class="public anchor" id="var-iso.3F"><h3>iso?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(iso? c)</code><code>(iso? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency is an official currency and its identifier is compliant with ISO standard. It is just a helper that check if the :do field of a currency equals :ISO-4217.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L792">view source</a></div></div><div class="public anchor" id="var-kind"><h3>kind</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(kind c)</code><code>(kind c registry)</code></div><div class="doc"><div class="markdown"><p>Returns currency kind. It is a keyword that describes origin of its value. Currently known kinds are:</p>
<ul>
  <li>:FIAT – legal tender issued by government or other authority</li>
  <li>:FIDUCIARY - accepted medium of exchange issued by a fiduciary or fiduciaries</li>
  <li>:DECENTRALIZED - accepted medium of exchange issued by a distributed ledger</li>
  <li>:COMBANK - commercial bank money</li>
  <li>:COMMODITY - accepted medium of exchange based on commodities</li>
  <li>:EXPERIMENTAL - pseudo-currency used for testing purposes.</li>
</ul>
<p>The function may return nil if the currency is a no-currency.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L383">view source</a></div></div><div class="public anchor" id="var-kind-of.3F"><h3>kind-of?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(kind-of? c kind)</code><code>(kind-of? c kind registry)</code></div><div class="doc"><div class="markdown"><p>Returns a kind of the given currency equals to the one given as a second argument.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L818">view source</a></div></div><div class="public anchor" id="var-lit"><h3>lit</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(lit arg)</code></div><div class="doc"><div class="markdown"><p>Tagged literal handler.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L920">view source</a></div></div><div class="public anchor" id="var-map-.3Enew"><h3>map-&gt;new</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(map-&gt;new m)</code></div><div class="doc"><div class="markdown"><p>Creates new currency record from a map.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L86">view source</a></div></div><div class="public anchor" id="var-Monetary"><h3>Monetary</h3><h4 class="type">protocol</h4><h4 class="added">added in 1.0.0</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-defined.3F"><h3>defined?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(defined? id)</code><code>(defined? id registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given currency exists in a registry. If the registry is not given, the global one will be used, trying a registry bound to the registry/*default* first.</p></div></div></div><div class="public anchor" id="var-id"><h3>id</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(id id)</code><code>(id id registry)</code></div><div class="doc"><div class="markdown"><p>Returns currency identifier as a keyword. If the registry is not given, it will use the global one, but will first try a registry bound to the <code>io.randomseed.bankster.registry/*default*</code> dynamic variable. If the given argument is already an identifier (a keyword), it will be returned as is.</p></div></div></div><div class="public anchor" id="var-same-ids.3F"><h3>same-ids?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(same-ids? a b)</code><code>(same-ids? a b registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if two currencies have the same ID. That does not mean the objects are of the same contents (e.g. numerical IDs or scales may differ) but it’s more performant in 99% cases. If the registry is not given, it will use the global one, but will first try a registry bound to the <code>io.randomseed.bankster.registry/*default*</code> dynamic variable.</p></div></div></div><div class="public anchor" id="var-unit"><h3>unit</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(unit id)</code><code>(unit id registry)</code></div><div class="doc"><div class="markdown"><p>Returns a currency object for the given id and registry. If the registry is not given, it will use the global one, but will first try a registry bound to the <code>io.randomseed.bankster.registry/*default*</code> dynamic variable. If the currency record is passed, it will be returned as is without consulting the registry.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L112">view source</a></div></div><div class="public anchor" id="var-new"><h3>new</h3><div class="usage"><code>(new id)</code><code>(new id numeric-id)</code><code>(new id numeric-id scale)</code><code>(new id numeric-id scale kind)</code></div><div class="doc"><div class="markdown"><p>Alias for new-currency.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L99">view source</a></div></div><div class="public anchor" id="var-new-currency"><h3>new-currency</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(new-currency id)</code><code>(new-currency id numeric-id)</code><code>(new-currency id numeric-id scale)</code><code>(new-currency id numeric-id scale kind)</code></div><div class="doc"><div class="markdown"><p>Creates new currency record from values passed as arguments.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L60">view source</a></div></div><div class="public anchor" id="var-no-numeric-id"><h3>no-numeric-id</h3><h4 class="added">added in 1.0.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Expresses the value of currency’s numeric ID that does not exist.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L23">view source</a></div></div><div class="public anchor" id="var-nr"><h3>nr</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(nr c)</code><code>(nr c registry)</code></div><div class="doc"><div class="markdown"><p>Returns currency numeric ID as a long number. For currencies without the assigned number it will return -1 (or currency/no-numeric-id).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L341">view source</a></div></div><div class="public anchor" id="var-ns"><h3>ns</h3><div class="usage"><code>(ns c)</code><code>(ns c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for domain.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L376">view source</a></div></div><div class="public anchor" id="var-numeric-id"><h3>numeric-id</h3><div class="usage"><code>(numeric-id c)</code><code>(numeric-id c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for nr.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L348">view source</a></div></div><div class="public anchor" id="var-of"><h3>of</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(of currency)</code><code>(of currency registry)</code></div><div class="doc"><div class="markdown"><p>Returns a currency for the given value by querying the given registry or a global registry, which may be shadowed by the value of registry/*default* (see registry/with or with-registry).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L325">view source</a></div></div><div class="public anchor" id="var-of-country"><h3>of-country</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(of-country country-id)</code><code>(of-country country-id registry)</code></div><div class="doc"><div class="markdown"><p>Returns a currency for the given country identified by a country ID (which should be a keyword). If there is no currency or country of the given ID does not exist, returns nil.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L429">view source</a></div></div><div class="public anchor" id="var-official.3F"><h3>official?</h3><div class="usage"><code>(official? c)</code><code>(official? c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for iso?</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L800">view source</a></div></div><div class="public anchor" id="var-possible.3F"><h3>possible?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(possible? c)</code><code>(possible? c registry)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given value is a possible currency representation. If the registry is not given, the global one is used. By possible representation we mean that it is a currency with a keyword identifier or any other data type that can be successfully converted into such using the registry provided.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L742">view source</a></div></div><div class="public anchor" id="var-register"><h3>register</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(register registry currency)</code><code>(register registry currency country-ids-or-update?)</code><code>(register registry currency country-ids update?)</code></div><div class="doc"><div class="markdown"><p>Adds currency and (optional) countries to the given registry. Returns updated registry. If the updating occurs then all of the current countries associated with the currency are removed and replaced with the provided ones. To simply add new countries, use add-countries.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L589">view source</a></div></div><div class="public anchor" id="var-register.21"><h3>register!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(register! currency)</code><code>(register! currency country-id-or-update?)</code><code>(register! currency country-id update?)</code></div><div class="doc"><div class="markdown"><p>Adds currency and (optional) country to the global registry. Returns updated registry. When the currency is nil, returns current state of the registry.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L631">view source</a></div></div><div class="public anchor" id="var-remove-countries"><h3>remove-countries</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(remove-countries registry country-ids)</code></div><div class="doc"><div class="markdown"><p>Removes countries from the given registry. Also unlinks constrained currencies in proper locations. Returns updated registry.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L550">view source</a></div></div><div class="public anchor" id="var-remove-countries.21"><h3>remove-countries!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(remove-countries! country-ids)</code></div><div class="doc"><div class="markdown"><p>Removes country (a keyword) or countries (seqable collection of keywords) from the global registry. Automatically removes currency constrains when necessary. Returns updated registry.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L661">view source</a></div></div><div class="public anchor" id="var-sc"><h3>sc</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sc c)</code><code>(sc c registry)</code></div><div class="doc"><div class="markdown"><p>Returns currency scale (decimal places) as an integer number. For currencies without the assigned decimal places it will return -1 (the value of auto-scaled).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L355">view source</a></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><div class="usage"><code>(scale c)</code><code>(scale c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for sc.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L362">view source</a></div></div><div class="public anchor" id="var-set-default.21"><h3>set-default!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(set-default! c)</code></div><div class="doc"><div class="markdown"><p>Sets default currency by altering <code>*default*</code> dynamic variable.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L720">view source</a></div></div><div class="public anchor" id="var-set-default-registry.21"><h3>set-default-registry!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(set-default-registry!)</code><code>(set-default-registry! resource-path)</code><code>(set-default-registry! resource-path &amp; more)</code></div><div class="doc"><div class="markdown"><p>Sets default, global registry using a global configuration file and optional user’s configuration file. The highlighted version of a registry will be sourced from the last configuration used.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L702">view source</a></div></div><div class="public anchor" id="var-short-code"><h3>short-code</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(short-code c)</code><code>(short-code c registry)</code></div><div class="doc"><div class="markdown"><p>Returns a currency code as a string for the given currency object. If the currency identifier is namespaced only the base code (without a namespace) will be returned (which may lead to misinformation if there are two or more currencies with the same base ID but different namespaces).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L407">view source</a></div></div><div class="public anchor" id="var-standard.3F"><h3>standard?</h3><div class="usage"><code>(standard? c)</code><code>(standard? c registry)</code></div><div class="doc"><div class="markdown"><p>Alias for iso?</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L806">view source</a></div></div><div class="public anchor" id="var-unregister"><h3>unregister</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(unregister registry currency)</code></div><div class="doc"><div class="markdown"><p>Removes currency from the given registry. Also removes country and numeric ID constrains when necessary. Returns updated registry.</p>
<p>Please note that removal of a currency whose identifier and numeric identifier are the same as the currencies which are already registered, will not only remove the existing currency identified by the ID but also remove numeric ID from within currency objects present.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L510">view source</a></div></div><div class="public anchor" id="var-unregister.21"><h3>unregister!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(unregister! currency)</code></div><div class="doc"><div class="markdown"><p>Removes currency from the global registry. Automatically removes country constrains when necessary. Returns updated registry.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L642">view source</a></div></div><div class="public anchor" id="var-unset-default.21"><h3>unset-default!</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(unset-default!)</code></div><div class="doc"><div class="markdown"><p>Sets default currency to nil by altering <code>*default*</code> dynamic variable.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L726">view source</a></div></div><div class="public anchor" id="var-val-auto-scaled.3F"><h3>val-auto-scaled?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(val-auto-scaled? scale)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given scale is equal to auto-scaled.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L48">view source</a></div></div><div class="public anchor" id="var-with"><h3>with</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with currency &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a default currency in a lexical context of the body.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L900">view source</a></div></div><div class="public anchor" id="var-with-registry"><h3>with-registry</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-registry registry &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a registry in a lexical context of the body to be used instead of a global one in functions which require the registry and it was not passed as an argument. Has the same effect as registry/with.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/currency.clj#L907">view source</a></div></div></div></body></html>