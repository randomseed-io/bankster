<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.money documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">1.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="40_development.html"><div class="inner"><span>Development</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4 current"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-Accountable"><div class="inner"><span>Accountable</span></div></a></li><li class="depth-2"><a href="io.randomseed.bankster.money.html#var-funds"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>funds</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add"><div class="inner"><span>add</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-amount"><div class="inner"><span>amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-currency"><div class="inner"><span>currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-defliteral"><div class="inner"><span>defliteral</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-different.3F"><div class="inner"><span>different?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-divide"><div class="inner"><span>divide</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-equal.3F"><div class="inner"><span>equal?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-lit"><div class="inner"><span>lit</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-lit-crypto"><div class="inner"><span>lit-crypto</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-money.3F"><div class="inner"><span>money?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-multiply"><div class="inner"><span>multiply</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of"><div class="inner"><span>of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-subtract"><div class="inner"><span>subtract</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-currency"><div class="inner"><span>with-currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-rounding"><div class="inner"><span>with-rounding</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.money</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-Accountable"><h3>Accountable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>This protocol is used to create monetary values.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-funds"><h3>funds</h3><div class="usage"><code>(funds num)</code><code>(funds a b)</code><code>(funds a b rounding-mode)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L28">view source</a></div></div><div class="public anchor" id="var-add"><h3>add</h3><div class="usage"><code>(add)</code><code>(add a)</code><code>(add a b)</code><code>(add a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Adds two or more amounts of money of the same currency. When called without any arguments, returns 0 or a Money of 0 with a default currency (if the default currency is set).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L299">view source</a></div></div><div class="public anchor" id="var-amount"><h3>amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(amount money)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of the given money</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L202">view source</a></div></div><div class="public anchor" id="var-currency"><h3>currency</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(currency money)</code></div><div class="doc"><div class="markdown"><p>Returns the currency of the given money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L208">view source</a></div></div><div class="public anchor" id="var-defliteral"><h3>defliteral</h3><div class="usage"><code>(defliteral c)</code></div><div class="doc"><div class="markdown"><p>For the given currency identifier or a currency object it creates a tagged literal in a form of #m/CURRENCY where the CURRENCY is a short currency code. As a side effect it creates a function of name io.randomseed.bankster.money/of-CURRENCY that will handle the literal.</p>
<p>The literals will be bound to <em>data-readers</em> in a local thread.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L474">view source</a></div></div><div class="public anchor" id="var-different.3F"><h3>different?</h3><div class="usage"><code>(different? a)</code><code>(different? a b)</code><code>(different? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts or their currencies are different.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L287">view source</a></div></div><div class="public anchor" id="var-divide"><h3>divide</h3><div class="usage"><code>(divide a)</code><code>(divide a b)</code><code>(divide a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides two or more amounts of money of the same currency or a number. If the two values are a kind of Money, the result will be of BigDecimal number. If the first value is a kind of Money and the second is a number, the result will be a Money. For a single value it returns a division of 1 by that number, even if it is a kind of Money. For more than 2 arguments it repeatedly divides them as described.</p>
<p>When there are two amounts of the same currency, scale may vary depending on the result and rounding is applied only when there is no exact decimal representation.</p>
<p>When there is a division of an amount by the regular number, the result is re-scaled to match the scale of a currency. If the scaling requires rounding enclosing the expression within with-rounding is required.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L348">view source</a></div></div><div class="public anchor" id="var-equal.3F"><h3>equal?</h3><div class="usage"><code>(equal? a)</code><code>(equal? a b)</code><code>(equal? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Return true if the money amounts and their currencies are equal.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L273">view source</a></div></div><div class="public anchor" id="var-lit"><h3>lit</h3><div class="usage"><code>(lit arg)</code></div><div class="doc"><div class="markdown"><p>Tagged literal handler.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L462">view source</a></div></div><div class="public anchor" id="var-lit-crypto"><h3>lit-crypto</h3><div class="usage"><code>(lit-crypto arg)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money/reader_handlers.clj#L3">view source</a></div></div><div class="public anchor" id="var-money.3F"><h3>money?</h3><div class="usage"><code>(money? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given value is a kind of Money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L268">view source</a></div></div><div class="public anchor" id="var-multiply"><h3>multiply</h3><div class="usage"><code>(multiply)</code><code>(multiply a)</code><code>(multiply a b)</code><code>(multiply a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies two or more amounts of money of the same currency or a number. If the two values are a kind of Money, . If the first value is a kind of Money and the second is a number, the result will be a Money. For a single value it returns a division of 1 by that number, even if it is a kind of Money. For more than 2 arguments it repeatedly divides them as described.</p>
<p>When there are two amounts of the same currency, scale may vary depending on the result and rounding is applied only when there is no exact decimal representation.</p>
<p>When there is a division of an amount by the regular number, the result is re-scaled to match the scale of a currency. If the scaling requires rounding enclosing the expression within with-rounding is required.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L397">view source</a></div></div><div class="public anchor" id="var-of"><h3>of</h3><h4 class="type">macro</h4><div class="usage"><code>(of currency)</code><code>(of a b)</code><code>(of a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of money as a Money object consisting of a currency and a value. Currency can be a currency object and for registered currencies: a keyword, a symbol or a string (e.g. EUR, :EUR, “PLN” or crypto/ETH), or even a number (for ISO-compliant currencies).</p>
<p>The given amount can be any numeric value or a string that can be converted to java.math.BigDecimal.</p>
<p>When a number must be downscaled to fulfill the number of decimal places for a currency, rounding mode must be given, which may be a symbol, a keyword or a string of the following:</p>
<p>CEILING - rounds towards positive infinity. DOWN - rounds towards zero. FLOOR - rounds towards negative infinity. HALF_DOWN - rounds towards nearest neighbor unless both neighbors are equidistant, in which case rounds down. HALF_EVEN - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds towards the even. HALF_UP - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds up. UP – rounds away from zero UNNECESSARY - asserts that the requested operation has an exact result, hence no rounding is necessary.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L122">view source</a></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><h4 class="type">macro</h4><div class="usage"><code>(scale money)</code><code>(scale money scale)</code><code>(scale money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Re-scales the given money using a scale (number of decimal places) and an optional rounding mode (required when downscaling). The internal scale for a currency object is also updated. If no scale is given, returns the current scale.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L186">view source</a></div></div><div class="public anchor" id="var-subtract"><h3>subtract</h3><div class="usage"><code>(subtract a)</code><code>(subtract a b)</code><code>(subtract a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Subtracts two or more amounts of money of the same currency.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L325">view source</a></div></div><div class="public anchor" id="var-with-currency"><h3>with-currency</h3><h4 class="type">macro</h4><div class="usage"><code>(with-currency currency &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a default currency in a lexical context of the body. Has the same effect as currency/with.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L450">view source</a></div></div><div class="public anchor" id="var-with-rounding"><h3>with-rounding</h3><h4 class="type">macro</h4><div class="usage"><code>(with-rounding rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Alias for scale/with-rounding.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.0/src/io/randomseed/bankster/money.clj#L445">view source</a></div></div></div></body></html>