<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.money documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">1.0.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="20_data_structures.html"><div class="inner"><span>Data Structures</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4 current"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3Edouble"><div class="inner"><span>-&gt;double</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3Efloat"><div class="inner"><span>-&gt;float</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-Accountable"><div class="inner"><span>Accountable</span></div></a></li><li class="depth-2"><a href="io.randomseed.bankster.money.html#var-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add"><div class="inner"><span>add</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add-major"><div class="inner"><span>add-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add-minor"><div class="inner"><span>add-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add-scaled"><div class="inner"><span>add-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-amount"><div class="inner"><span>amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-compare"><div class="inner"><span>compare</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-compare-amounts"><div class="inner"><span>compare-amounts</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-convert"><div class="inner"><span>convert</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-currency"><div class="inner"><span>currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-dec-major"><div class="inner"><span>dec-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-dec-minor"><div class="inner"><span>dec-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-defliteral"><div class="inner"><span>defliteral</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-div"><div class="inner"><span>div</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-div-rem"><div class="inner"><span>div-rem</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-div-scaled"><div class="inner"><span>div-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-eq-am.3F"><div class="inner"><span>eq-am?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-eq.3F"><div class="inner"><span>eq?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-format"><div class="inner"><span>format</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-format-with"><div class="inner"><span>format-with</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-ge.3F"><div class="inner"><span>ge?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-gt.3F"><div class="inner"><span>gt?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-inc-major"><div class="inner"><span>inc-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-inc-minor"><div class="inner"><span>inc-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-neg-or-zero.3F"><div class="inner"><span>is-neg-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-neg.3F"><div class="inner"><span>is-neg?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-pos-or-zero.3F"><div class="inner"><span>is-pos-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-pos.3F"><div class="inner"><span>is-pos?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-zero.3F"><div class="inner"><span>is-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-le.3F"><div class="inner"><span>le?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-lt.3F"><div class="inner"><span>lt?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major"><div class="inner"><span>major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-.3Eint"><div class="inner"><span>major-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-.3Elong"><div class="inner"><span>major-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-minor"><div class="inner"><span>major-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-minor-.3Eint"><div class="inner"><span>major-minor-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-minor-.3Elong"><div class="inner"><span>major-minor-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-value"><div class="inner"><span>major-value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-max-amount"><div class="inner"><span>max-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-min-amount"><div class="inner"><span>min-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor"><div class="inner"><span>minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor-.3Eint"><div class="inner"><span>minor-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor-.3Elong"><div class="inner"><span>minor-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor-value"><div class="inner"><span>minor-value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-money.3F"><div class="inner"><span>money?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-mul"><div class="inner"><span>mul</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-mul-scaled"><div class="inner"><span>mul-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-ne-am.3F"><div class="inner"><span>ne-am?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-ne.3F"><div class="inner"><span>ne?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-neg"><div class="inner"><span>neg</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of"><div class="inner"><span>of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of-major"><div class="inner"><span>of-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of-minor"><div class="inner"><span>of-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-pos"><div class="inner"><span>pos</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-rescale"><div class="inner"><span>rescale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-rescaled.3F"><div class="inner"><span>rescaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-round"><div class="inner"><span>round</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-same-currencies.3F"><div class="inner"><span>same-currencies?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-same-currency-ids.3F"><div class="inner"><span>same-currency-ids?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-strip"><div class="inner"><span>strip</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-stripped-amount"><div class="inner"><span>stripped-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub"><div class="inner"><span>sub</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub-major"><div class="inner"><span>sub-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub-minor"><div class="inner"><span>sub-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub-scaled"><div class="inner"><span>sub-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-currency"><div class="inner"><span>with-currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-rescaling"><div class="inner"><span>with-rescaling</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-rounding"><div class="inner"><span>with-rounding</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.money</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var--.3Edouble"><h3>-&gt;double</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(-&gt;double a)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to double.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1347">view source</a></div></div><div class="public anchor" id="var--.3Efloat"><h3>-&gt;float</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(-&gt;float a)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to float.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1353">view source</a></div></div><div class="public anchor" id="var-Accountable"><h3>Accountable</h3><h4 class="type">protocol</h4><h4 class="added">added in 1.0.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>This protocol is used to express (monetary) values using various numeric types and currency representations.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-value"><h3>value</h3><div class="usage"><code>(value num)</code><code>(value currency num)</code><code>(value currency num rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new Money object for the given value which will become an amount. If the currency is not given it will try to use the default one, taken from the <code>*default-currency*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>In its unary form, when the argument is not numeric, it will try to get the currency object (identified by a string, a symbol or a keyword) from a default, global registry of currencies.</p>
<p>For simple money creation the following macros may be convenient way to go: of, of-major, of-minor.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L27">view source</a></div></div><div class="public anchor" id="var-add"><h3>add</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add)</code><code>(add a)</code><code>(add a b)</code><code>(add a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Adds two or more amounts of money of the same currency. When called without any arguments, returns 0.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L717">view source</a></div></div><div class="public anchor" id="var-add-major"><h3>add-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-major a b)</code></div><div class="doc"><div class="markdown"><p>Increases major amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1359">view source</a></div></div><div class="public anchor" id="var-add-minor"><h3>add-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-minor a b)</code></div><div class="doc"><div class="markdown"><p>Increases minor amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated..</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1389">view source</a></div></div><div class="public anchor" id="var-add-scaled"><h3>add-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-scaled)</code><code>(add-scaled a)</code><code>(add-scaled a b)</code><code>(add-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for add.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L756">view source</a></div></div><div class="public anchor" id="var-amount"><h3>amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(amount money)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of the given money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L361">view source</a></div></div><div class="public anchor" id="var-compare"><h3>compare</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(compare a)</code><code>(compare a b)</code></div><div class="doc"><div class="markdown"><p>Compares two monetary amounts of the same currency and scale. Returns -1 if the second one is less than, 0 if equal to, and 1 if it is greater than the first.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L471">view source</a></div></div><div class="public anchor" id="var-compare-amounts"><h3>compare-amounts</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(compare-amounts a)</code><code>(compare-amounts a b)</code></div><div class="doc"><div class="markdown"><p>Compares two monetary amounts of the same currency, regardless of their scales. Returns -1 if the second one is less than, 0 if equal to, and 1 if it is greater than the first.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L459">view source</a></div></div><div class="public anchor" id="var-convert"><h3>convert</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(convert a currency multiplier)</code><code>(convert a currency multiplier rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts a monetary amount from one currency to another using the given multiplier (expressing a conversion rate).</p>
<p>When no rounding mode is given and rounding is required during scaling to another currency then the value of dynamic variable <code>io.randomseed.bankster.scale/*rounding-mode*</code> will be used.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1216">view source</a></div></div><div class="public anchor" id="var-currency"><h3>currency</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(currency money)</code></div><div class="doc"><div class="markdown"><p>Returns the currency of the given money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L367">view source</a></div></div><div class="public anchor" id="var-dec-major"><h3>dec-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(dec-major a)</code></div><div class="doc"><div class="markdown"><p>Decreases major amount by 1.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1383">view source</a></div></div><div class="public anchor" id="var-dec-minor"><h3>dec-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(dec-minor a)</code></div><div class="doc"><div class="markdown"><p>Decreases minor amount by 1.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1426">view source</a></div></div><div class="public anchor" id="var-defliteral"><h3>defliteral</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(defliteral c)</code></div><div class="doc"><div class="markdown"><p>For the given currency identifier or a currency object it creates a tagged literal in a form of #money/CURRENCY where the CURRENCY is a currency code. As a side effect it creates a function of name io.randomseed.bankster.money/of-CURRENCY that will handle the literal.</p>
<p>The literals will be bound to <em>data-readers</em> in a local thread.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1474">view source</a></div></div><div class="public anchor" id="var-div"><h3>div</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(div a)</code><code>(div a b)</code><code>(div a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides two or more amounts of money of the same currency or numbers. If two of the given values are a kind of Money, the result will be a BigDecimal number. If the earlier value is a kind of Money and the second is a number, the result will be a Money. If the first argument is a number and the second argument is a monetary amount, an exception will be thrown. The result will always be either a kind of Money or a BigDecimal number.</p>
<p>For a single value it returns a division of 1 by that number.</p>
<p>For more than 2 arguments it repeatedly divides their values as described. If the previous calculations produce a regular number, all consequent divisors must be regular numbers. Practically, if the division begins with a monetary amount, only one monetary amount at some point later is permitted (which will cause the function to switch to the regular numbers calculation since the units will cancel themselves).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>Rescaling is performed after all calculations are done. However, the scale can be applied on each calculation if the dynamic variable <code>io.randomseed.bankster.scale/*each*</code> is set to a truthy value. If the scaling requires rounding then enclosing the expression within <code>with-rounding</code> is required. This can also be achieved by enclosing the expression within <code>io.randomseed.bankster.scale/with-rescaling</code> (aliased in this namespace under the same name) macro combining the switch and setting the scale.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1106">view source</a></div></div><div class="public anchor" id="var-div-rem"><h3>div-rem</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(div-rem a b)</code></div><div class="doc"><div class="markdown"><p>Returns the remainder of dividing an mount of money by the given number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1246">view source</a></div></div><div class="public anchor" id="var-div-scaled"><h3>div-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(div-scaled a)</code><code>(div-scaled a b)</code><code>(div-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides two or more amounts of money of the same currency or numbers. Scales and optionally rounds each intermediate result (if there are more divisors).</p>
<p>If the first given argument is a kind of money and one of the divisors is also a kind of Money, the result will be a BigDecimal kind of number. If the earlier value is a kind of Money and the second is a number, the result will be a Money. If the first argument is a number and the second argument is a monetary amount, an exception will be thrown.</p>
<p>For a single value it returns a division of 1 by that number and only works for numbers.</p>
<p>For more than 2 arguments it repeatedly divides their values as described and re-scales each result to match the scale of the first encountered monetary amount. If there are no monetary amounts involved the scale is calculated dynamically.</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>If the scaling requires rounding then enclosing the expression within <code>with-rounding</code> (also present in <code>io.randomseed.bankster.scale</code> namespace) is required.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1005">view source</a></div></div><div class="public anchor" id="var-eq-am.3F"><h3>eq-am?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(eq-am? a)</code><code>(eq-am? a b)</code><code>(eq-am? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Return true if the money amounts and their currencies are equal, regardless of their scales.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L537">view source</a></div></div><div class="public anchor" id="var-eq.3F"><h3>eq?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(eq? a)</code><code>(eq? a b)</code><code>(eq? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Return true if the money amounts and their currencies are equal. Note that currencies with different scales are considered different. Use eq-am? to compare amounts regardless of their scales.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L521">view source</a></div></div><div class="public anchor" id="var-format"><h3>format</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(format money)</code><code>(format money locale)</code><code>(format money locale opts)</code></div><div class="doc"><div class="markdown"><p>Formats the given amount of money as a string according to localization rules. If the locale argument is not given then the default is used.</p>
<p>It is advised to express locale using a keyword when huge amount of operations is expected.</p>
<p>If there are 3 arguments passed the third one should be a map of options customizing the formatting. It can have the following keys:</p>
<ul>
  <li>:rounding-mode - RoundingMode, rounding mode to apply when scaling (if <code>scale/*rounding-mode*</code> is not set)</li>
  <li>:grouping - Boolean, if true then grouping will be used</li>
  <li>:grouping-size - integer, size of a group when grouping</li>
  <li>:negative-prefix - String, negative prefix to use</li>
  <li>:negative-suffix - String, negative suffix to use</li>
  <li>:positive-prefix - String, positive prefix to use</li>
  <li>:positive-suffix - String, positive suffix to use</li>
  <li>:always-sep-dec - Boolean, if true then the decimal separator will always be shown</li>
  <li>:currency-symbol-fn - a function used on a bankster/Currency object to get its symbol as a string</li>
  <li>:min-fraction-digits - integer, the minimum number of digits allowed in the fraction portion of an amount</li>
  <li>:min-integer-digits - integer, the minimum number of digits allowed in the integer portion of an amount</li>
  <li>:max-fraction-digits - integer, the maximum number of digits allowed in the fraction portion of an amount</li>
  <li>:max-integer-digits - integer, the maximum number of digits allowed in the integer portion of an amount</li>
  <li>:scale - sets both :min-fraction-digits and :max-fraction-digits to the same value.</li>
</ul>
<p>The function assigned to the :currency-symbol-fn should take 3 arguments: currency, locale and registry.</p>
<p>Note that you may gain some speed by re-using the extended formatter (basic formatter is already cached). See the documentation of the format-with function for more information.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1510">view source</a></div></div><div class="public anchor" id="var-format-with"><h3>format-with</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(format-with formatter money)</code></div><div class="doc"><div class="markdown"><p>Formats the amount of money using the formatter provided. Formatters can be created with io.randomseed.bankster.currency/formatter and io.randomseed.bankster.currency/formatter-extended.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1567">view source</a></div></div><div class="public anchor" id="var-ge.3F"><h3>ge?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(ge? a)</code><code>(ge? a b)</code><code>(ge? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically non-increasing order, otherwise false.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L595">view source</a></div></div><div class="public anchor" id="var-gt.3F"><h3>gt?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(gt? a)</code><code>(gt? a b)</code><code>(gt? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically decreasing order, otherwise false.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L581">view source</a></div></div><div class="public anchor" id="var-inc-major"><h3>inc-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(inc-major a)</code></div><div class="doc"><div class="markdown"><p>Increases major amount by 1.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1377">view source</a></div></div><div class="public anchor" id="var-inc-minor"><h3>inc-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(inc-minor a)</code></div><div class="doc"><div class="markdown"><p>Increases minor amount by 1.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1420">view source</a></div></div><div class="public anchor" id="var-is-neg-or-zero.3F"><h3>is-neg-or-zero?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-neg-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a negative number or zero.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L655">view source</a></div></div><div class="public anchor" id="var-is-neg.3F"><h3>is-neg?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-neg? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a negative number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L643">view source</a></div></div><div class="public anchor" id="var-is-pos-or-zero.3F"><h3>is-pos-or-zero?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-pos-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number or zero.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L661">view source</a></div></div><div class="public anchor" id="var-is-pos.3F"><h3>is-pos?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-pos? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L649">view source</a></div></div><div class="public anchor" id="var-is-zero.3F"><h3>is-zero?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L637">view source</a></div></div><div class="public anchor" id="var-le.3F"><h3>le?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(le? a)</code><code>(le? a b)</code><code>(le? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically non-decreasing order, otherwise false.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L623">view source</a></div></div><div class="public anchor" id="var-lt.3F"><h3>lt?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(lt? a)</code><code>(lt? a b)</code><code>(lt? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically increasing order, otherwise false.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L609">view source</a></div></div><div class="public anchor" id="var-major"><h3>major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount of money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1286">view source</a></div></div><div class="public anchor" id="var-major-.3Eint"><h3>major-&gt;int</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount as an integer number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1298">view source</a></div></div><div class="public anchor" id="var-major-.3Elong"><h3>major-&gt;long</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount as a long number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1292">view source</a></div></div><div class="public anchor" id="var-major-minor"><h3>major-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-minor a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1327">view source</a></div></div><div class="public anchor" id="var-major-minor-.3Eint"><h3>major-minor-&gt;int</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-minor-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount represented as integer numbers.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1333">view source</a></div></div><div class="public anchor" id="var-major-minor-.3Elong"><h3>major-minor-&gt;long</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-minor-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount represented as long numbers.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1340">view source</a></div></div><div class="public anchor" id="var-major-value"><h3>major-value</h3><div class="usage"><code>(major-value a)</code><code>(major-value c b)</code><code>(major-value c b r)</code></div><div class="doc"><div class="markdown"><p>Creates new Money object for the given value which will become a major part of the amount. If the given number has fractional part it will be truncated. If the currency is not given it should try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>For simple money creation the following macros may be convenient way to go: of, of-major, of-minor.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L302">view source</a></div></div><div class="public anchor" id="var-max-amount"><h3>max-amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(max-amount a)</code><code>(max-amount a b)</code><code>(max-amount a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns the greatest of the monetary amounts.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1204">view source</a></div></div><div class="public anchor" id="var-min-amount"><h3>min-amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(min-amount a)</code><code>(min-amount a b)</code><code>(min-amount a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns the least of the monetary amounts.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1192">view source</a></div></div><div class="public anchor" id="var-minor"><h3>minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(minor a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1304">view source</a></div></div><div class="public anchor" id="var-minor-.3Eint"><h3>minor-&gt;int</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(minor-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount as an integer number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1321">view source</a></div></div><div class="public anchor" id="var-minor-.3Elong"><h3>minor-&gt;long</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(minor-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount as a long number.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1315">view source</a></div></div><div class="public anchor" id="var-minor-value"><h3>minor-value</h3><div class="usage"><code>(minor-value a)</code><code>(minor-value c b)</code><code>(minor-value c b r)</code></div><div class="doc"><div class="markdown"><p>Creates new Money object for the given value which will become a minor part of the amount. If the given number has fractional part it will be truncated. If the currency is not given it should try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>For simple money creation the following macros may be convenient way to go: of, of-major, of-minor.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L316">view source</a></div></div><div class="public anchor" id="var-money.3F"><h3>money?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(money? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given value is a kind of Money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L491">view source</a></div></div><div class="public anchor" id="var-mul"><h3>mul</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(mul)</code><code>(mul a)</code><code>(mul a b)</code><code>(mul a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies two or more values where one may be a Money object. If one of the values is a kind of Money then the result will also be a kind of Money. For a single value it simply returns it. For more than 2 arguments it repeatedly multiplies them as described.</p>
<p>When there is a multiplication of a monetary value by the regular number, the final result of all operations is re-scaled to match the scale of monetary amount. If the scaling requires rounding, enclosing the expression within <code>io.randomseed.bankster.scale/with-rounding</code> is required (the macro is aliased under the same name in this namespace).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>Rescaling is performed after performing all operations unless all values are regular numbers (without any Money object among them).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L878">view source</a></div></div><div class="public anchor" id="var-mul-scaled"><h3>mul-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(mul-scaled)</code><code>(mul-scaled a)</code><code>(mul-scaled a b)</code><code>(mul-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies two or more values where one may be a Money object. If one of the values is a kind of Money then the result will also be a kind of Money. For a single value it simply returns it. For more than 2 arguments it repeatedly multiplies them as described.</p>
<p>When there is a multiplication of a monetary value by the regular number, the final result of all operations is re-scaled to match the scale of the monetary amount. If the scaling requires rounding, enclosing the expression within <code>io.randomseed.bankster.scale/with-rounding</code> is required (the macro is aliased under the same name in this namespace).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>Rescaling is performed on each operation unless/until all values are regular numbers (without any Money object among them).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L825">view source</a></div></div><div class="public anchor" id="var-ne-am.3F"><h3>ne-am?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(ne-am? a)</code><code>(ne-am? a b)</code><code>(ne-am? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts or their currencies are different, regardless of their scales.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L571">view source</a></div></div><div class="public anchor" id="var-ne.3F"><h3>ne?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(ne? a)</code><code>(ne? a b)</code><code>(ne? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts or their currencies are different, regardless of their scales. Note that currencies with different scales are considered different.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L561">view source</a></div></div><div class="public anchor" id="var-neg"><h3>neg</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(neg a)</code></div><div class="doc"><div class="markdown"><p>Returns the negated amount of the given money. For negative amount it will reverse their sign. Same as (sub x).</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1253">view source</a></div></div><div class="public anchor" id="var-of"><h3>of</h3><h4 class="type">macro</h4><div class="usage"><code>(of)</code><code>(of a)</code><code>(of a b)</code><code>(of a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of money as a Money object consisting of a currency and a value. Currency can be a currency object and for registered currencies: a keyword, a symbol or a string (e.g. EUR, :EUR, “PLN” or crypto/ETH), or even a number (for ISO-compliant currencies).</p>
<p>The given amount can be any numeric value or a string that can be converted to java.math.BigDecimal.</p>
<p>When a number must be downscaled to fulfill the number of decimal places for a currency, rounding mode must be given, which may be a symbol, a keyword or a string of the following:</p>
<p>CEILING - rounds towards positive infinity. DOWN - rounds towards zero. FLOOR - rounds towards negative infinity. HALF_DOWN - rounds towards nearest neighbor unless both neighbors are equidistant, in which case rounds down. HALF_EVEN - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds towards the even. HALF_UP - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds up. UP – rounds away from zero UNNECESSARY - asserts that the requested operation has an exact result, hence no rounding is necessary.</p>
<p>To create a monetary object using function, call <code>io.randomseed.bankster.money/value</code>.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L180">view source</a></div></div><div class="public anchor" id="var-of-major"><h3>of-major</h3><h4 class="type">macro</h4><div class="usage"><code>(of-major)</code><code>(of-major a)</code><code>(of-major a b)</code><code>(of-major a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like io.randomseed.money/of but sets the amount of major part only.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L208">view source</a></div></div><div class="public anchor" id="var-of-minor"><h3>of-minor</h3><h4 class="type">macro</h4><div class="usage"><code>(of-minor)</code><code>(of-minor a)</code><code>(of-minor a b)</code><code>(of-minor a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like io.randomseed.money/of but sets the amount of minor part only.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L215">view source</a></div></div><div class="public anchor" id="var-pos"><h3>pos</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(pos a)</code></div><div class="doc"><div class="markdown"><p>Returns the positive (absolute) amount of the given money.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1260">view source</a></div></div><div class="public anchor" id="var-rescale"><h3>rescale</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(rescale money)</code><code>(rescale money new-scale)</code><code>(rescale money new-scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Same as scale but its unary variant will rescale an amount of the given money to conform it to its currency settings instead of returning the scale. It has the same effect as calling <code>io.randomseed.bankster.scale/apply</code> on a money object without passing any other arguments.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L699">view source</a></div></div><div class="public anchor" id="var-rescaled.3F"><h3>rescaled?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(rescaled? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary value has different scale than its currency (so it was rescaled). Returns false if the scale is no different. Returns nil if the currency does not have a fixed scale.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L497">view source</a></div></div><div class="public anchor" id="var-round"><h3>round</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(round money scale)</code><code>(round money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Rounds the amount of money using the given scale and rounding mode. Returns money with rounded amount preserving the original scale. If the rounding mode is not given the one from scale/*rounding-mode* is used.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1267">view source</a></div></div><div class="public anchor" id="var-same-currencies.3F"><h3>same-currencies?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(same-currencies? a b)</code></div><div class="doc"><div class="markdown"><p>Returns true if both currencies are the same for the given money objects.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L507">view source</a></div></div><div class="public anchor" id="var-same-currency-ids.3F"><h3>same-currency-ids?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(same-currency-ids? a b)</code></div><div class="doc"><div class="markdown"><p>Returns true if both currencies have the same IDs for the given money objects.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L514">view source</a></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(scale money)</code><code>(scale money scale)</code><code>(scale money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Re-scales the given money using a scale (number of decimal places) and an optional rounding mode (required when downscaling). The internal scale for a currency object is also updated. If no scale is given, returns the current scale.</p>
<p>Auto-scaled monetary values are returned unchanged.</p>
<p>Use with caution since it can make money object no longer compliant with a scale of the currency.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L671">view source</a></div></div><div class="public anchor" id="var-strip"><h3>strip</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(strip a)</code></div><div class="doc"><div class="markdown"><p>Strips trailing zeros from the amount of money. The internal scale for a currency object is NOT updated.</p>
<p>Use with caution since it can make money object no longer compliant with a scale of the registered currency.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L346">view source</a></div></div><div class="public anchor" id="var-stripped-amount"><h3>stripped-amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(stripped-amount money)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of the given money with trailing zeros removed.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L373">view source</a></div></div><div class="public anchor" id="var-sub"><h3>sub</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub a)</code><code>(sub a b)</code><code>(sub a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Subtracts two or more amounts of money of the same currency. When called with a single argument, negates its value.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L765">view source</a></div></div><div class="public anchor" id="var-sub-major"><h3>sub-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub-major a b)</code></div><div class="doc"><div class="markdown"><p>Decreases major amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1368">view source</a></div></div><div class="public anchor" id="var-sub-minor"><h3>sub-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub-minor a b)</code></div><div class="doc"><div class="markdown"><p>Decreases minor amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated. If the major component comes from a money object, its currency must match the given money. This check is performed to prevent mistakes; if you need to subtract minor parts of money with different currencies, use (minor x) on the second argument.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1403">view source</a></div></div><div class="public anchor" id="var-sub-scaled"><h3>sub-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub-scaled a)</code><code>(sub-scaled a b)</code><code>(sub-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for sub.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L804">view source</a></div></div><div class="public anchor" id="var-with-currency"><h3>with-currency</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-currency currency &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a default currency in a lexical context of the body. Has the same effect as io.randomseed.bankster.currency/with.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1448">view source</a></div></div><div class="public anchor" id="var-with-rescaling"><h3>with-rescaling</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-rescaling rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Alias for io.randomseed.bankster.scale/with-rescaling.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1442">view source</a></div></div><div class="public anchor" id="var-with-rounding"><h3>with-rounding</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-rounding rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Alias for io.randomseed.bankster.scale/with-rounding.</p></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/1.0.2/src/io/randomseed/bankster/money.clj#L1436">view source</a></div></div></div></body></html>