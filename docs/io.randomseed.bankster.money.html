<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.money documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">2.2.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="11_sneak-peeks.html"><div class="inner"><span>Sneak peeks</span></div></a></li><li class="depth-1 "><a href="12_api.html"><div class="inner"><span>Bankster Front API</span></div></a></li><li class="depth-1 "><a href="15_contracts.html"><div class="inner"><span>Bankster Contracts</span></div></a></li><li class="depth-1 "><a href="20_data_structures.html"><div class="inner"><span>Data Structures</span></div></a></li><li class="depth-1 "><a href="30_currency-kinds.html"><div class="inner"><span>Currency kinds</span></div></a></li><li class="depth-1 "><a href="32_currency_traits.html"><div class="inner"><span>Currency traits</span></div></a></li><li class="depth-1 "><a href="50_example_config.html"><div class="inner"><span>Example EDN config</span></div></a></li><li class="depth-1 "><a href="50_serialization.html"><div class="inner"><span>Serialization</span></div></a></li><li class="depth-1 "><a href="80_Apache-2-License.html"><div class="inner"><span>Apache License, v2.0</span></div></a></li><li class="depth-1 "><a href="85_LGPL-3-License.html"><div class="inner"><span>LGPL License, v3 or later</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.api.v2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v2</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-6"><a href="io.randomseed.bankster.api.v2.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.jsr-354.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jsr-354</span></div></a></li><li class="depth-4 current"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serializers</span></div></div></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.edn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.serializers.json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-*"><div class="inner"><span>*</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.2B"><div class="inner"><span>+</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--"><div class="inner"><span>-</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3Eclojure-symbol"><div class="inner"><span>-&gt;clojure-symbol</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3Edouble"><div class="inner"><span>-&gt;double</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3Efloat"><div class="inner"><span>-&gt;float</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3ELastMoney"><div class="inner"><span>-&gt;LastMoney</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var--.3Esymbol"><div class="inner"><span>-&gt;symbol</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.2F"><div class="inner"><span>/</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.3C"><div class="inner"><span>&lt;</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.3C.3D"><div class="inner"><span>&lt;=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.3D"><div class="inner"><span>=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.3D.3D"><div class="inner"><span>==</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.3E"><div class="inner"><span>&gt;</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-.3E.3D"><div class="inner"><span>&gt;=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-abs"><div class="inner"><span>abs</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-Accountable"><div class="inner"><span>Accountable</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.money.html#var-cast"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cast</span></div></a></li><li class="depth-2"><a href="io.randomseed.bankster.money.html#var-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add"><div class="inner"><span>add</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add-major"><div class="inner"><span>add-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add-minor"><div class="inner"><span>add-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-add-scaled"><div class="inner"><span>add-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-allocate"><div class="inner"><span>allocate</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-amount"><div class="inner"><span>amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-apply"><div class="inner"><span>apply</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-auto-scaled.3F"><div class="inner"><span>auto-scaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-code-literal"><div class="inner"><span>code-literal</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-code-readers"><div class="inner"><span>code-readers</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-compare"><div class="inner"><span>compare</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-compare-amounts"><div class="inner"><span>compare-amounts</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-convert"><div class="inner"><span>convert</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-currency"><div class="inner"><span>currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-data-literal"><div class="inner"><span>data-literal</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-data-readers"><div class="inner"><span>data-readers</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-dec-major"><div class="inner"><span>dec-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-dec-minor"><div class="inner"><span>dec-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-defliteral"><div class="inner"><span>defliteral</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-distribute"><div class="inner"><span>distribute</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-div"><div class="inner"><span>div</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-div-rem"><div class="inner"><span>div-rem</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-div-scaled"><div class="inner"><span>div-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-eq-am.3F"><div class="inner"><span>eq-am?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-eq.3F"><div class="inner"><span>eq?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-format"><div class="inner"><span>format</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-format-with"><div class="inner"><span>format-with</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-from-json-map"><div class="inner"><span>from-json-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-from-json-string"><div class="inner"><span>from-json-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-ge.3F"><div class="inner"><span>ge?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-gt.3F"><div class="inner"><span>gt?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-inc-major"><div class="inner"><span>inc-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-inc-minor"><div class="inner"><span>inc-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-neg-or-zero.3F"><div class="inner"><span>is-neg-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-neg.3F"><div class="inner"><span>is-neg?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-pos-or-zero.3F"><div class="inner"><span>is-pos-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-pos.3F"><div class="inner"><span>is-pos?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-is-zero.3F"><div class="inner"><span>is-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-le.3F"><div class="inner"><span>le?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-lt.3F"><div class="inner"><span>lt?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major"><div class="inner"><span>major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-.3Eint"><div class="inner"><span>major-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-.3Elong"><div class="inner"><span>major-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-minor"><div class="inner"><span>major-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-minor-.3Eint"><div class="inner"><span>major-minor-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-minor-.3Elong"><div class="inner"><span>major-minor-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-major-value"><div class="inner"><span>major-value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-map-.3ELastMoney"><div class="inner"><span>map-&gt;LastMoney</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-max"><div class="inner"><span>max</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-max-amount"><div class="inner"><span>max-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-min"><div class="inner"><span>min</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-min-amount"><div class="inner"><span>min-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor"><div class="inner"><span>minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor-.3Eint"><div class="inner"><span>minor-&gt;int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor-.3Elong"><div class="inner"><span>minor-&gt;long</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-minor-value"><div class="inner"><span>minor-value</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-money.3F"><div class="inner"><span>money?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-mul"><div class="inner"><span>mul</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-mul-scaled"><div class="inner"><span>mul-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-ne-am.3F"><div class="inner"><span>ne-am?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-ne.3F"><div class="inner"><span>ne?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-neg"><div class="inner"><span>neg</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-neg-or-zero.3F"><div class="inner"><span>neg-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-neg.3F"><div class="inner"><span>neg?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-not.3D"><div class="inner"><span>not=</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-not.3D.3D"><div class="inner"><span>not==</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of"><div class="inner"><span>of</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of-major"><div class="inner"><span>of-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of-map"><div class="inner"><span>of-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of-minor"><div class="inner"><span>of-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-of-registry"><div class="inner"><span>of-registry</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-on-amount"><div class="inner"><span>on-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-pos"><div class="inner"><span>pos</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-pos-or-zero.3F"><div class="inner"><span>pos-or-zero?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-pos.3F"><div class="inner"><span>pos?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-readers"><div class="inner"><span>readers</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-rem"><div class="inner"><span>rem</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-rescale"><div class="inner"><span>rescale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-rescaled.3F"><div class="inner"><span>rescaled?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-round"><div class="inner"><span>round</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-round-to"><div class="inner"><span>round-to</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-same-currencies.3F"><div class="inner"><span>same-currencies?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-same-currency-ids.3F"><div class="inner"><span>same-currency-ids?</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-set-amount"><div class="inner"><span>set-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-split-scale-int"><div class="inner"><span>split-scale-int</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-strip"><div class="inner"><span>strip</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-stripped-amount"><div class="inner"><span>stripped-amount</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub"><div class="inner"><span>sub</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub-major"><div class="inner"><span>sub-major</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub-minor"><div class="inner"><span>sub-minor</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-sub-scaled"><div class="inner"><span>sub-scaled</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-to-json-map"><div class="inner"><span>to-json-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-to-json-string"><div class="inner"><span>to-json-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-to-map"><div class="inner"><span>to-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-to-units"><div class="inner"><span>to-units</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-unparse"><div class="inner"><span>unparse</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-currency"><div class="inner"><span>with-currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-rescaling"><div class="inner"><span>with-rescaling</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-with-rounding"><div class="inner"><span>with-rounding</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.money.html#var-zero.3F"><div class="inner"><span>zero?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.money</h1><h4 class="added">added in 1.0.0</h4><div class="doc"><div class="markdown"><p>Bankster library, money operations.</p>
</div></div><div class="public anchor" id="var-*"><h3>*</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(*)</code><code>(* a)</code><code>(* a b)</code><code>(* a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for mul.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1711">view source</a></div></div><div class="public anchor" id="var-.2B"><h3>+</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(+)</code><code>(+ a)</code><code>(+ a b)</code><code>(+ a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for add.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1457">view source</a></div></div><div class="public anchor" id="var--"><h3>-</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(- a)</code><code>(- a b)</code><code>(- a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for sub.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1513">view source</a></div></div><div class="public anchor" id="var--.3Eclojure-symbol"><h3>-&gt;clojure-symbol</h3><h4 class="added">added in 1.1.0</h4><div class="usage"><code>(-&gt;clojure-symbol a)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a clojure symbol (with added M when needed).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2420">view source</a></div></div><div class="public anchor" id="var--.3Edouble"><h3>-&gt;double</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(-&gt;double a)</code><code>(-&gt;double a scale)</code><code>(-&gt;double a rounding-mode)</code><code>(-&gt;double a scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a double with optional rescaling.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2427">view source</a></div></div><div class="public anchor" id="var--.3Efloat"><h3>-&gt;float</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(-&gt;float a)</code><code>(-&gt;float a scale)</code><code>(-&gt;float a rounding-mode)</code><code>(-&gt;float a scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a float with optional rescaling. Resulting type will be widened to double.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2441">view source</a></div></div><div class="public anchor" id="var--.3ELastMoney"><h3>-&gt;LastMoney</h3><div class="usage"><code>(-&gt;LastMoney m scale auto-scaled)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class io.randomseed.bankster.money.LastMoney.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1566">view source</a></div></div><div class="public anchor" id="var--.3Esymbol"><h3>-&gt;symbol</h3><h4 class="added">added in 1.1.0</h4><div class="usage"><code>(-&gt;symbol a)</code></div><div class="doc"><div class="markdown"><p>Converts an amount of the given money to a symbol.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2414">view source</a></div></div><div class="public anchor" id="var-.2F"><h3>/</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(/ a)</code><code>(/ a b)</code><code>(/ a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for div.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2100">view source</a></div></div><div class="public anchor" id="var-.3C"><h3>&lt;</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(&lt; a)</code><code>(&lt; a b)</code><code>(&lt; a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for lt?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1285">view source</a></div></div><div class="public anchor" id="var-.3C.3D"><h3>&lt;=</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(&lt;= a)</code><code>(&lt;= a b)</code><code>(&lt;= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for le?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1307">view source</a></div></div><div class="public anchor" id="var-.3D"><h3>=</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(= a)</code><code>(= a b)</code><code>(= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for eq?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1151">view source</a></div></div><div class="public anchor" id="var-.3D.3D"><h3>==</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(== a)</code><code>(== a b)</code><code>(== a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for eq-am?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1183">view source</a></div></div><div class="public anchor" id="var-.3E"><h3>&gt;</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(&gt; a)</code><code>(&gt; a b)</code><code>(&gt; a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for gt?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1241">view source</a></div></div><div class="public anchor" id="var-.3E.3D"><h3>&gt;=</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(&gt;= a)</code><code>(&gt;= a b)</code><code>(&gt;= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for ge?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1263">view source</a></div></div><div class="public anchor" id="var-abs"><h3>abs</h3><h4 class="added">added in 1.2.0</h4><div class="usage"><code>(abs a)</code></div><div class="doc"><div class="markdown"><p>Returns the absolute value of the given money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2294">view source</a></div></div><div class="public anchor" id="var-Accountable"><h3>Accountable</h3><h4 class="type">protocol</h4><h4 class="added">added in 1.0.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>This protocol is used to express (monetary) values using various numeric types and currency representations.</p>
</div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-cast"><h3>cast</h3><h4 class="added">added in 1.1.0</h4><div class="usage"><code>(cast money)</code><code>(cast money currency)</code><code>(cast money currency rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Casts an existing Money object to another having a different currency, rescaling the amount and optionally rounding it. This is useful when operating on multiple currency registries compatible with different data sources or processing engines. For simply ensuring that a currency is sourced in the right registry, use <code>of-registry</code>.</p>
</div></div></div><div class="public anchor" id="var-value"><h3>value</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(value num)</code><code>(value currency num)</code><code>(value currency num rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>Money</code> object for the given value <code>num</code> which will become an amount. If the <code>currency</code> is not given it will try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional <code>rounding-mode</code> should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>In its unary form, when the argument is not numeric, it will try to get the currency object (identified by a string, a symbol or a keyword) from the default, global registry of currencies.</p>
<p>For simple money creation the following macros may be convenient way to go: <code>of</code>, <code>of-major</code>, <code>of-minor</code>.</p>
<p>Be careful about using number literals for big-scale amounts (16â€“17 digits). Use either big decimal literals, e.g. 1234.45689101112M, or strings.</p>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L41">view source</a></div></div><div class="public anchor" id="var-add"><h3>add</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add)</code><code>(add a)</code><code>(add a b)</code><code>(add a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Adds two or more amounts of money of the same currency. When called without any arguments, returns 0.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1409">view source</a></div></div><div class="public anchor" id="var-add-major"><h3>add-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-major a b)</code></div><div class="doc"><div class="markdown"><p>Increases major amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2456">view source</a></div></div><div class="public anchor" id="var-add-minor"><h3>add-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-minor a b)</code></div><div class="doc"><div class="markdown"><p>Increases minor amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated..</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2486">view source</a></div></div><div class="public anchor" id="var-add-scaled"><h3>add-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(add-scaled)</code><code>(add-scaled a)</code><code>(add-scaled a b)</code><code>(add-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for add.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1448">view source</a></div></div><div class="public anchor" id="var-allocate"><h3>allocate</h3><h4 class="added">added in 1.2.18</h4><div class="usage"><code>(allocate a ratios)</code></div><div class="doc"><div class="markdown"><p>Allocates a monetary amount <code>a</code> into parts according to integer <code>ratios</code>.</p>
<p>Returns a vector of <code>Money</code> values (same currency as <code>a</code>) whose amounts:</p>
<ul>
<li>sum exactly to <code>a</code> (sum-preserving),</li>
<li>are expressed in the minimal unit implied by the effective scale (currency nominal scale; for auto-scaled currencies: the scale of <code>a</code>),</li>
<li>differ only by whole minor units (no fractional minor units are created),</li>
<li>distribute the leftover remainder deterministically from left to right.</li>
</ul>
<p><code>ratios</code> is any sequence of integer-like values (<code>Long</code>, <code>BigInt</code>, <code>BigInteger</code>). Zeros are allowed (yielding zero parts); negative ratios are treated as non-positive and produce zero base allocation.</p>
<p>For negative <code>a</code>, allocation is performed on the absolute value and the sign is applied to all resulting parts (preserving the exact sum).</p>
<p>Throws <code>ExceptionInfo</code> when:</p>
<ul>
<li><code>ratios</code> is empty,</li>
<li>the sum of ratios is not strictly positive.</li>
</ul>
<p>Examples:</p>
<pre><code>(allocate #money[10.00 PLN] [1 1 1])
;; =&gt; [#money[3.34 PLN] #money[3.33 PLN] #money[3.33 PLN]]

(allocate #money[1.00 PLN] [1 2 3])
;; 100 units split by 1:2:3 =&gt; bases [16 33 50] remainder 1 =&gt; [17 33 50]
;; =&gt; [#money[0.17 PLN] #money[0.33 PLN] #money[0.50 PLN]]
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2576">view source</a></div></div><div class="public anchor" id="var-amount"><h3>amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(amount money)</code><code>(amount a b)</code><code>(amount a b r)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of the given money. For more than one argument the money is created ad-hoc using a and b objects passed to the function named value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L840">view source</a></div></div><div class="public anchor" id="var-apply"><h3>apply</h3><h4 class="added">added in 1.2.7</h4><div class="usage"><code>(apply money f)</code><code>(apply money f a)</code><code>(apply money f a b)</code><code>(apply money f a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for on-amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L782">view source</a></div></div><div class="public anchor" id="var-auto-scaled.3F"><h3>auto-scaled?</h3><h4 class="added">added in 1.1.2</h4><div class="usage"><code>(auto-scaled? m)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given Money object is based on a currency which is auto-scaled.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L154">view source</a></div></div><div class="public anchor" id="var-code-literal"><h3>code-literal</h3><h4 class="added">added in 1.2.4</h4><div class="usage"><code>(code-literal arg)</code></div><div class="doc"><div class="markdown"><p>Tagged literal handler for Money objects expressed as tagged literals in Clojure code. Returns compound forms (parsing function invocations that can be influenced by the runtime environment, e.g. dynamic variables like <code>scale/*rounding-mode*</code>).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2735">view source</a></div></div><div class="public anchor" id="var-code-readers"><h3>code-readers</h3><h4 class="added">added in 1.2.4</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Data readers map for currency and money (intended to be used when evaluating Clojure code with tagged literals: #currency and #money). Handlers assigned to literals may emit compound forms, like function call forms (as Clojure code). To operate on EDN data files, see data-readers.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2822">view source</a></div></div><div class="public anchor" id="var-compare"><h3>compare</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(compare _)</code><code>(compare a b)</code></div><div class="doc"><div class="markdown"><p>Compares two monetary amounts of the same currency and scale. Returns -1 if the first one is less than the second, 0 if equal to, and 1 if it is greater than the second. Nil values are always considered lower when comparing.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1065">view source</a></div></div><div class="public anchor" id="var-compare-amounts"><h3>compare-amounts</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(compare-amounts _)</code><code>(compare-amounts a b)</code></div><div class="doc"><div class="markdown"><p>Compares two monetary amounts of the same currency, regardless of their scales. Returns -1 if the first one is less than the second, 0 if equal to, and 1 if it is greater than the second. Nil values are always considered lower when comparing.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1041">view source</a></div></div><div class="public anchor" id="var-convert"><h3>convert</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(convert money price)</code><code>(convert money price rounding-mode)</code><code>(convert money to-currency exchange-rate)</code><code>(convert money to-currency exchange-rate rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Converts a monetary amount from one currency to another using the given multiplier (expressing a conversion rate). When two money objects are given, the second one should express a price of 1 unit of the first currency.</p>
<p>When no rounding mode is given and rounding is required during scaling to another currency then the value of dynamic variable <code>io.randomseed.bankster.scale/*rounding-mode*</code> will be used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2148">view source</a></div></div><div class="public anchor" id="var-currency"><h3>currency</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(currency money)</code><code>(currency a b)</code><code>(currency a b r)</code></div><div class="doc"><div class="markdown"><p>Returns the currency of the given money. For more than one argument the money is created ad-hoc using a and b objects passed to the function named value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L848">view source</a></div></div><div class="public anchor" id="var-data-literal"><h3>data-literal</h3><h4 class="added">added in 1.2.4</h4><div class="usage"><code>(data-literal arg)</code></div><div class="doc"><div class="markdown"><p>Data reader for Money objects expressed as tagged literals in EDN data files.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2752">view source</a></div></div><div class="public anchor" id="var-data-readers"><h3>data-readers</h3><h4 class="added">added in 1.2.4</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Data readers map for currency and money (intended to be used when reading EDN data files containing tagged literals: #currency and #money). Handlers assigned to literals are always emitting constant forms. Please note that tagged literal handlers for Clojure code are using different readers (defined as code-readers).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2814">view source</a></div></div><div class="public anchor" id="var-dec-major"><h3>dec-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(dec-major a)</code></div><div class="doc"><div class="markdown"><p>Decreases major amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2480">view source</a></div></div><div class="public anchor" id="var-dec-minor"><h3>dec-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(dec-minor a)</code></div><div class="doc"><div class="markdown"><p>Decreases minor amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2523">view source</a></div></div><div class="public anchor" id="var-defliteral"><h3>defliteral</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(defliteral c)</code></div><div class="doc"><div class="markdown"><p>For the given currency identifier or a currency object it creates a tagged literal in a form of #money/CURRENCY where the CURRENCY is a currency code. As a side effect it creates a function of name <code>io.randomseed.bankster.money/of-CURRENCY</code> that will handle the literal.</p>
<p>The literals will be bound to <em>data-readers</em> in a local thread.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2762">view source</a></div></div><div class="public anchor" id="var-distribute"><h3>distribute</h3><h4 class="added">added in 1.2.18</h4><div class="usage"><code>(distribute a n)</code></div><div class="doc"><div class="markdown"><p>Distributes a monetary amount <code>a</code> into <code>n</code> as-even-as-possible parts.</p>
<p>This is equivalent to: <code>(allocate a (repeat n 1))</code></p>
<p>Returns a vector of <code>Money</code> values (same currency as <code>a</code>) such that:</p>
<ul>
<li>the parts sum exactly to <code>a</code>,</li>
<li>each part differs from another by at most one minor unit (relative to the effective scale used for splitting),</li>
<li>any remainder is distributed deterministically from left to right.</li>
</ul>
<p><code>n</code> must be integer-like and strictly positive; otherwise throws <code>ExceptionInfo</code>.</p>
<p>Examples:</p>
<pre><code>(distribute #money[10.00 PLN] 3)
;; =&gt; [#money[3.34 PLN] #money[3.33 PLN] #money[3.33 PLN]]

(distribute #money[-10.00 PLN] 3)
;; =&gt; [#money[-3.34 PLN] #money[-3.33 PLN] #money[-3.33 PLN]]
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2656">view source</a></div></div><div class="public anchor" id="var-div"><h3>div</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(div a)</code><code>(div a b)</code><code>(div a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides two or more amounts of money of the same currency or numbers. If two of the given values are a kind of Money, the result will be a BigDecimal number. If the earlier value is a kind of Money and the second is a number, the result will be a Money. If the first argument is a number and the second argument is a monetary amount, an exception will be thrown. The result will always be either a kind of Money or a BigDecimal number.</p>
<p>For a single value it returns a division of 1 by the given number. For a monetary value it will throw, because dividing a regular number by Money is not allowed.</p>
<p>For more than 2 arguments it repeatedly divides their values as described. If the previous calculations produce a regular number, all consequent divisors must be regular numbers. Practically, if the division begins with a monetary amount, only one monetary amount at some point later is permitted (which will cause the function to switch to the regular numbers calculation since the units will cancel themselves).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers and for monetary values of auto-scaled currencies the dynamic rescaling is performed to handle corner cases where there would be a non-terminating decimal expansion. Trailing zeros are stripped before any calculation.</p>
<p>Rescaling is performed after all calculations are done. However, the scale can be applied on each calculation if the dynamic variable <code>io.randomseed.bankster.scale/*each*</code> is set to a truthy value. If the scaling requires rounding then enclosing the expression within <code>with-rounding</code> is required. This can also be achieved by enclosing the expression within <code>io.randomseed.bankster.scale/with-rescaling</code> (aliased in this namespace under the same name) macro combining the switch and setting the scale.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1951">view source</a></div></div><div class="public anchor" id="var-div-rem"><h3>div-rem</h3><h4 class="added">added in 1.1.0</h4><div class="usage"><code>(div-rem a b)</code></div><div class="doc"><div class="markdown"><p>Alias for rem.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2274">view source</a></div></div><div class="public anchor" id="var-div-scaled"><h3>div-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(div-scaled a)</code><code>(div-scaled a b)</code><code>(div-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Divides two or more amounts of money of the same currency or numbers. Scales and optionally rounds each intermediate result (if there are more divisors).</p>
<p>If the first given argument is a kind of money and one of the divisors is also a kind of Money, the result will be a BigDecimal kind of number. If the earlier value is a kind of Money and the second is a number, the result will be a Money. If the first argument is a number and the second argument is a monetary amount, an exception will be thrown.</p>
<p>For more than 2 arguments, if currency cancels out (Money divided by Money), the intermediate result becomes a regular number, so all consequent divisors must also be regular numbers.</p>
<p>For a single value it returns a division of 1 by the given number. For a monetary value it will throw, because dividing a regular number by Money is not allowed.</p>
<p>For more than 2 arguments it repeatedly divides their values as described and re-scales each result to match the scale of the first encountered monetary amount. If there are no monetary amounts involved the scale is calculated dynamically.</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers and for monetary values of auto-scaled currencies the dynamic rescaling is performed to handle corner cases where there would be a non-terminating decimal expansion. Trailing zeros are stripped before any calculation.</p>
<p>If the scaling requires rounding then enclosing the expression within <code>with-rounding</code> (also present in <code>io.randomseed.bankster.scale</code> namespace) is required.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1814">view source</a></div></div><div class="public anchor" id="var-eq-am.3F"><h3>eq-am?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(eq-am? _)</code><code>(eq-am? a b)</code><code>(eq-am? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the monetary amounts and their currencies are equal, regardless of their scales.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1159">view source</a></div></div><div class="public anchor" id="var-eq.3F"><h3>eq?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(eq? _)</code><code>(eq? a b)</code><code>(eq? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts and their currencies are equal. Note that currencies with different scales or other properties are considered different. Use eq-am? (aliased as ==) to compare amounts regardless of their scales.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1135">view source</a></div></div><div class="public anchor" id="var-format"><h3>format</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(format money)</code><code>(format money locale)</code><code>(format money locale opts)</code></div><div class="doc"><div class="markdown"><p>Formats the given amount of money as a string according to localization rules. If the locale argument is not given then the default is used.</p>
<p>It is advised to express locale using a keyword when huge amount of operations is expected.</p>
<p>If there are 3 arguments passed the third one should be a map of options customizing the formatting. It can have the following keys:</p>
<ul>
<li><code>:rounding-mode</code>   - RoundingMode, rounding mode to apply when scaling (if <code>scale/*rounding-mode*</code> is not set)</li>
<li><code>:grouping</code>        - Boolean, if true then grouping will be used</li>
<li><code>:grouping-size</code>   - integer, size of a group when grouping</li>
<li><code>:negative-prefix</code> - String, negative prefix to use</li>
<li><code>:negative-suffix</code> - String, negative suffix to use</li>
<li><code>:positive-prefix</code> - String, positive prefix to use</li>
<li><code>:positive-suffix</code> - String, positive suffix to use</li>
<li><code>:always-sep-dec</code>  - Boolean, if true then the decimal separator will always be shown</li>
<li><code>:currency-symbol-fn</code>  - a function used on a bankster/Currency object to get its symbol as a string</li>
<li><code>:min-fraction-digits</code> - integer, the minimum number of digits allowed in the fraction portion of an amount</li>
<li><code>:min-integer-digits</code>  - integer, the minimum number of digits allowed in the integer portion of an amount</li>
<li><code>:max-fraction-digits</code> - integer, the maximum number of digits allowed in the fraction portion of an amount</li>
<li><code>:max-integer-digits</code>  - integer, the maximum number of digits allowed in the integer portion of an amount</li>
<li><code>:scale</code>               - sets both <code>:min-fraction-digits</code> and <code>:max-fraction-digits</code> to the same value.</li>
</ul>
<p>The function assigned to the <code>:currency-symbol-fn</code> should take 3 arguments: currency, locale and registry.</p>
<p>Note that you may gain some speed by re-using the extended formatter (basic formatter is already cached). See the documentation of the format-with function for more information.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2868">view source</a></div></div><div class="public anchor" id="var-format-with"><h3>format-with</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(format-with formatter money)</code></div><div class="doc"><div class="markdown"><p>Formats the amount of money using the formatter provided. Formatters can be created with <code>io.randomseed.bankster.currency/formatter</code> and <code>io.randomseed.bankster.currency/formatter-extended</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2926">view source</a></div></div><div class="public anchor" id="var-from-json-map"><h3>from-json-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(from-json-map m)</code><code>(from-json-map m opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from a JSON map.</p>
<p>Options:</p>
<ul>
<li><code>:registry</code>      - registry to use for currency lookup (default: <code>registry/get</code>)</li>
<li><code>:rounding-mode</code> - <code>java.math.RoundingMode</code> for rescaling</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L3053">view source</a></div></div><div class="public anchor" id="var-from-json-string"><h3>from-json-string</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(from-json-string s)</code><code>(from-json-string s opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes Money from a JSON string.</p>
<p>Options:</p>
<ul>
<li><code>:registry</code>      - registry to use for currency lookup (default: <code>registry/get</code>)</li>
<li><code>:rounding-mode</code> - <code>java.math.RoundingMode</code> for rescaling</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L3066">view source</a></div></div><div class="public anchor" id="var-ge.3F"><h3>ge?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(ge? _)</code><code>(ge? a b)</code><code>(ge? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically non-increasing order, otherwise false.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1249">view source</a></div></div><div class="public anchor" id="var-gt.3F"><h3>gt?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(gt? _)</code><code>(gt? a b)</code><code>(gt? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically decreasing order, otherwise false.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1227">view source</a></div></div><div class="public anchor" id="var-inc-major"><h3>inc-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(inc-major a)</code></div><div class="doc"><div class="markdown"><p>Increases major amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2474">view source</a></div></div><div class="public anchor" id="var-inc-minor"><h3>inc-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(inc-minor a)</code></div><div class="doc"><div class="markdown"><p>Increases minor amount by 1.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2517">view source</a></div></div><div class="public anchor" id="var-info"><h3>info</h3><h4 class="added">added in 2.2.0</h4><div class="usage"><code>(info money)</code></div><div class="doc"><div class="markdown"><p>Returns a map with <code>:currency</code> and <code>:amount</code> for the given money-like input.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L856">view source</a></div></div><div class="public anchor" id="var-is-neg-or-zero.3F"><h3>is-neg-or-zero?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-neg-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a negative number or zero.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1352">view source</a></div></div><div class="public anchor" id="var-is-neg.3F"><h3>is-neg?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-neg? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a negative number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1327">view source</a></div></div><div class="public anchor" id="var-is-pos-or-zero.3F"><h3>is-pos-or-zero?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-pos-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number or zero.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1364">view source</a></div></div><div class="public anchor" id="var-is-pos.3F"><h3>is-pos?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-pos? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is a positive number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1339">view source</a></div></div><div class="public anchor" id="var-is-zero.3F"><h3>is-zero?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(is-zero? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given monetary amount is zero.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1315">view source</a></div></div><div class="public anchor" id="var-le.3F"><h3>le?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(le? _)</code><code>(le? a b)</code><code>(le? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically non-decreasing order, otherwise false.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1293">view source</a></div></div><div class="public anchor" id="var-lt.3F"><h3>lt?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(lt? _)</code><code>(lt? a b)</code><code>(lt? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns non-nil if monetary amounts are in monotonically increasing order, otherwise false.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1271">view source</a></div></div><div class="public anchor" id="var-major"><h3>major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount of money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2353">view source</a></div></div><div class="public anchor" id="var-major-.3Eint"><h3>major-&gt;int</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount as an int number widened to long.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2365">view source</a></div></div><div class="public anchor" id="var-major-.3Elong"><h3>major-&gt;long</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns the major part of the given amount as a long number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2359">view source</a></div></div><div class="public anchor" id="var-major-minor"><h3>major-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-minor a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2394">view source</a></div></div><div class="public anchor" id="var-major-minor-.3Eint"><h3>major-minor-&gt;int</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-minor-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount represented as integer numbers (widened to long).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2400">view source</a></div></div><div class="public anchor" id="var-major-minor-.3Elong"><h3>major-minor-&gt;long</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(major-minor-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with major and minor parts of the given monetary amount represented as long numbers.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2407">view source</a></div></div><div class="public anchor" id="var-major-value"><h3>major-value</h3><div class="usage"><code>(major-value a)</code><code>(major-value currency amount)</code><code>(major-value currency amount rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>Money</code> object for the given value which will become a major part of the amount. If the given number has fractional part it will be truncated. If the currency is not given, it will try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>For simple money creation the following macros may be a convenient way to go: of, of-major, of-minor.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L683">view source</a></div></div><div class="public anchor" id="var-map-.3ELastMoney"><h3>map-&gt;LastMoney</h3><div class="usage"><code>(map-&gt;LastMoney m__8001__auto__)</code></div><div class="doc"><div class="markdown"><p>Factory function for class io.randomseed.bankster.money.LastMoney, taking a map of keywords to field values.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1566">view source</a></div></div><div class="public anchor" id="var-max"><h3>max</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(max a)</code><code>(max a b)</code><code>(max a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for max-amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2140">view source</a></div></div><div class="public anchor" id="var-max-amount"><h3>max-amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(max-amount a)</code><code>(max-amount a b)</code><code>(max-amount a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns the greatest of the monetary amounts.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2128">view source</a></div></div><div class="public anchor" id="var-min"><h3>min</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(min a)</code><code>(min a b)</code><code>(min a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for min-amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2120">view source</a></div></div><div class="public anchor" id="var-min-amount"><h3>min-amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(min-amount a)</code><code>(min-amount a b)</code><code>(min-amount a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns the least of the monetary amounts.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2108">view source</a></div></div><div class="public anchor" id="var-minor"><h3>minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(minor a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2371">view source</a></div></div><div class="public anchor" id="var-minor-.3Eint"><h3>minor-&gt;int</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(minor-&gt;int a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount as an int number widened to long.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2388">view source</a></div></div><div class="public anchor" id="var-minor-.3Elong"><h3>minor-&gt;long</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(minor-&gt;long a)</code></div><div class="doc"><div class="markdown"><p>Returns the minor part of the given amount as a long number.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2382">view source</a></div></div><div class="public anchor" id="var-minor-value"><h3>minor-value</h3><div class="usage"><code>(minor-value a)</code><code>(minor-value currency amount)</code><code>(minor-value currency amount rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>Money</code> object for the given value which will become a minor part of the amount. If the given number has fractional part it will be truncated. If the currency is not given, it will try to use the default one, taken from the <code>io.randomseed.bankster.currency/*default*</code> dynamic variable. Optional rounding-mode should be a rounding mode used when the conversion to a scaled monetary amount requires rounding.</p>
<p>For simple money creation the following macros may be a convenient way to go: of, of-major, of-minor.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L698">view source</a></div></div><div class="public anchor" id="var-money.3F"><h3>money?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(money? a)</code></div><div class="doc"><div class="markdown"><p>Returns true if the given value is a kind of Money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1104">view source</a></div></div><div class="public anchor" id="var-mul"><h3>mul</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(mul)</code><code>(mul a)</code><code>(mul a b)</code><code>(mul a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies two or more values where one may be a Money object. If one of the values is a kind of Money then the result will also be a kind of Money. For a single value it simply returns it. For more than 2 arguments it repeatedly multiplies them as described.</p>
<p>When there is a multiplication of a monetary value by the regular number, the final result of all operations is re-scaled to match the scale of monetary amount. If the scaling requires rounding, enclosing the expression within <code>io.randomseed.bankster.scale/with-rounding</code> is required (the macro is aliased under the same name in this namespace).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>Rescaling is performed after performing all operations unless all values are regular numbers (without any Money object among them).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1626">view source</a></div></div><div class="public anchor" id="var-mul-scaled"><h3>mul-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(mul-scaled)</code><code>(mul-scaled a)</code><code>(mul-scaled a b)</code><code>(mul-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Multiplies two or more values where one may be a Money object. If one of the values is a kind of Money then the result will also be a kind of Money. For a single value it simply returns it. For more than 2 arguments it repeatedly multiplies them as described.</p>
<p>When there is a multiplication of a monetary value by the regular number, the final result of all operations is re-scaled to match the scale of the monetary amount. If the scaling requires rounding, enclosing the expression within <code>io.randomseed.bankster.scale/with-rounding</code> is required (the macro is aliased under the same name in this namespace).</p>
<p>Note that rescaling is not based on the original scale of a currency. This is designed that way is to handle cases when monetary amount was intentionally rescaled earlier.</p>
<p>For regular numbers dynamic rescaling is performed only to handle corner cases where there would be a non-terminating decimal expansion.</p>
<p>Rescaling is performed on each operation unless/until all values are regular numbers (without any Money object among them).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1568">view source</a></div></div><div class="public anchor" id="var-ne-am.3F"><h3>ne-am?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(ne-am? _)</code><code>(ne-am? a b)</code><code>(ne-am? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts or their currencies are different, regardless of their scales.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1209">view source</a></div></div><div class="public anchor" id="var-ne.3F"><h3>ne?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(ne? _)</code><code>(ne? a b)</code><code>(ne? a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Returns true if the money amounts or their currencies are different, regardless of their scales. Note that currencies with different scales are considered different.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1191">view source</a></div></div><div class="public anchor" id="var-neg"><h3>neg</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(neg a)</code></div><div class="doc"><div class="markdown"><p>Returns the negated amount of the given money. For a negative amount it will reverse its sign. Same as <code>(sub a)</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2281">view source</a></div></div><div class="public anchor" id="var-neg-or-zero.3F"><h3>neg-or-zero?</h3><h4 class="added">added in 1.2.0</h4><div class="usage"><code>(neg-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-neg-or-zero?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1358">view source</a></div></div><div class="public anchor" id="var-neg.3F"><h3>neg?</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(neg? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-neg?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1333">view source</a></div></div><div class="public anchor" id="var-not.3D"><h3>not=</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(not= a)</code><code>(not= a b)</code><code>(not= a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for ne?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1201">view source</a></div></div><div class="public anchor" id="var-not.3D.3D"><h3>not==</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(not== a)</code><code>(not== a b)</code><code>(not== a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for ne-am?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1219">view source</a></div></div><div class="public anchor" id="var-of"><h3>of</h3><h4 class="type">macro</h4><div class="usage"><code>(of)</code><code>(of a)</code><code>(of a b)</code><code>(of a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of money as a Money object consisting of a currency and a value. Currency can be a currency object and for registered currencies: a keyword, a symbol or a string (e.g. <code>EUR</code>, <code>:EUR</code>, â€œPLNâ€ or crypto/ETH), or even a number (for ISO-compliant currencies).</p>
<p>The given amount can be any numeric value or a string that can be converted to <code>java.math.BigDecimal</code>.</p>
<p>When a number must be downscaled to fulfill the number of decimal places for a currency, rounding mode must be given, which may be a symbol, a keyword or a string of the following:</p>
<ul>
<li><code>CEILING</code>     - rounds towards positive infinity.</li>
<li><code>DOWN</code>        - rounds towards zero.</li>
<li><code>FLOOR</code>       - rounds towards negative infinity.</li>
<li><code>HALF_DOWN</code>   - rounds towards nearest neighbor unless both neighbors are equidistant, in which case rounds down.</li>
<li><code>HALF_EVEN</code>   - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds towards the even.</li>
<li><code>HALF_UP</code>     - rounds towards the nearest neighbor unless both neighbors are equidistant, and if so, rounds up.</li>
<li><code>UP</code>          â€“ rounds away from zero</li>
<li><code>UNNECESSARY</code> - asserts that the requested operation has an exact result, hence no rounding is necessary.</li>
</ul>
<p>To create a monetary object using function, call <code>io.randomseed.bankster.money/value</code>.</p>
<p>Be careful about using number literals for big-scale amounts (16â€“17 digits). Use either big decimal literals, e.g. 1234.45689101112M, or strings.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L492">view source</a></div></div><div class="public anchor" id="var-of-major"><h3>of-major</h3><h4 class="type">macro</h4><div class="usage"><code>(of-major)</code><code>(of-major a)</code><code>(of-major a b)</code><code>(of-major a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like <code>io.randomseed.bankster.money/of</code> but sets the amount of major part only.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L524">view source</a></div></div><div class="public anchor" id="var-of-map"><h3>of-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(of-map m)</code></div><div class="doc"><div class="markdown"><p>Creates Money from a map representation.</p>
<p>Expected keys:</p>
<ul>
<li><code>:currency</code> (or <code>:cur</code>)  - any currency representation accepted by Bankster</li>
<li><code>:amount</code>                - amount as BigDecimal/number/string</li>
<li>optional <code>:rounding-mode</code> / <code>:rounding</code></li>
</ul>
<p>This is a general-purpose helper meant for EDN-like data. It accepts keyword/symbol rounding-mode names (e.g. <code>:HALF_UP</code>), not only <code>java.math.RoundingMode</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2969">view source</a></div></div><div class="public anchor" id="var-of-minor"><h3>of-minor</h3><h4 class="type">macro</h4><div class="usage"><code>(of-minor)</code><code>(of-minor a)</code><code>(of-minor a b)</code><code>(of-minor a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Like <code>io.randomseed.bankster.money/of</code> but sets the amount of minor part only.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L532">view source</a></div></div><div class="public anchor" id="var-of-registry"><h3>of-registry</h3><h4 class="added">added in 1.1.2</h4><div class="usage"><code>(of-registry money)</code><code>(of-registry registry money)</code><code>(of-registry registry money rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Ensures that a currency of the given money originates from the given registry. If the registry is not given and a dynamic registry is not set, the default one is used. Rescales the amount if needed to match the nominal scale. Optional rounding-mode can be supplied to be used when downscaling is needed (nominal currency from a registry has lower number of decimal places than the amount of money).</p>
<p>Money can be expressed as a <code>Money</code> object or any other object that will create <code>Money</code> when passed to the <code>value</code> function. Returns money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L717">view source</a></div></div><div class="public anchor" id="var-on-amount"><h3>on-amount</h3><h4 class="added">added in 1.1.2</h4><div class="usage"><code>(on-amount money f)</code><code>(on-amount money f a)</code><code>(on-amount money f a b)</code><code>(on-amount money f a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Performs an operation expressed with a function <code>f</code> on an amount of the given money. Additional arguments will be passed to the <code>f</code>. Returns the money with the amount updated. The function <code>f</code> must return a number. Short-circuits on <code>nil</code> as an argument. Rescales the result to the existing scale of an amount, not the nominal scale of a currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L750">view source</a></div></div><div class="public anchor" id="var-pos"><h3>pos</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(pos a)</code></div><div class="doc"><div class="markdown"><p>Returns the given money object.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2288">view source</a></div></div><div class="public anchor" id="var-pos-or-zero.3F"><h3>pos-or-zero?</h3><h4 class="added">added in 1.2.0</h4><div class="usage"><code>(pos-or-zero? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-pos-or-zero?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1370">view source</a></div></div><div class="public anchor" id="var-pos.3F"><h3>pos?</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(pos? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-pos?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1346">view source</a></div></div><div class="public anchor" id="var-readers"><h3>readers</h3><h4 class="added">added in 2.0.0</h4><div class="usage"><code>(readers)</code><code>(readers registry)</code></div><div class="doc"><div class="markdown"><p>Returns a data readers map (tag symbol -&gt; handler function) suitable for <code>clojure.edn/read</code> / <code>clojure.edn/read-string</code>.</p>
<p>The returned map always includes the base tags:</p>
<ul>
<li><code>#money</code> and <code>#bankster.money</code>,</li>
<li><code>#currency</code> and <code>#bankster.currency</code>.</li>
</ul>
<p>When a registry is available it also includes tags of form <code>#money/NS</code> (and <code>#bankster.money/NS</code>) for each currency namespace present in the registry, so EDN can disambiguate codes between currency domains (e.g. <code>#money/crypto[1 ETH]</code>).</p>
<p>Note: this helper does not mutate <code>clojure.core/*data-readers*</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2830">view source</a></div></div><div class="public anchor" id="var-rem"><h3>rem</h3><h4 class="added">added in 1.2.0</h4><div class="usage"><code>(rem a b)</code><code>(rem a b rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Returns the remainder of dividing an amount of money by the given number. For two Money objects the result is a BigDecimal. When only the first argument is a kind of Money, the result will also be a Money, rescaled to the scale of the monetary amount. When the rounding mode is not given, <code>io.randomseed.bankster.scale/*rounding-mode*</code> will be used when set.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2235">view source</a></div></div><div class="public anchor" id="var-rescale"><h3>rescale</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(rescale money)</code><code>(rescale money scale)</code><code>(rescale money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Same as <code>scale</code> but its unary variant will rescale an amount of the given money to conform it to its currency settings instead of returning the scale. It has the same effect as calling <code>io.randomseed.bankster.scale/apply</code> on a Money object.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1397">view source</a></div></div><div class="public anchor" id="var-rescaled.3F"><h3>rescaled?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(rescaled? a)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if the given monetary value has different scale than its currency (so it was rescaled). Returns <code>false</code> if the scale is no different. Returns <code>nil</code> if the currency does not have a fixed scale.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1110">view source</a></div></div><div class="public anchor" id="var-round"><h3>round</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(round money scale)</code><code>(round money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Rounds the amount of money using the given scale and rounding mode. Returns money with rounded amount preserving the original scale. If the rounding mode is not given the one from <code>scale/*rounding-mode*</code> is used.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2302">view source</a></div></div><div class="public anchor" id="var-round-to"><h3>round-to</h3><h4 class="added">added in 1.2.9</h4><div class="usage"><code>(round-to money)</code><code>(round-to money i)</code><code>(round-to money i rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Rounds a Money to an interval i (which should also be a Money or a number). If rounding mode is not provided (via the last argument or <code>scale/*rounding-mode*</code>) then it defaults to HALF_EVEN. Retains original scale of the amount (but not the nominal scale of a currency, if money was given). For nil intervals or intervals whose amounts are negative or zero, returns an unaltered monetary object.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2320">view source</a></div></div><div class="public anchor" id="var-same-currencies.3F"><h3>same-currencies?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(same-currencies? a b)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if both currencies are the same for the given money objects.</p>
<p>Note: currency weight is ignored.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1120">view source</a></div></div><div class="public anchor" id="var-same-currency-ids.3F"><h3>same-currency-ids?</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(same-currency-ids? a b)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if both currencies have the same IDs for the given money objects.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1128">view source</a></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(scale money)</code><code>(scale money scale)</code><code>(scale money scale rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Re-scales the given money using a scale (number of decimal places) and an optional rounding mode (required when downscaling). The internal scale for a currency object is NOT updated. If no scale is given, returns the current scale of the amount (not the nominal scale of a currency). For auto-scaled currencies this means the scale tracks the current value (it grows/shrinks to fit the amount).</p>
<p>Use with caution since it can make money object no longer compliant with a scale of the currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1380">view source</a></div></div><div class="public anchor" id="var-set-amount"><h3>set-amount</h3><h4 class="added">added in 1.2.7</h4><div class="usage"><code>(set-amount money v)</code><code>(set-amount money v rounding-mode)</code></div><div class="doc"><div class="markdown"><p>Sets the amount of the given monetary object. Rescales value <code>v</code> to a scale of the given monetary object, not the nominal scale of its currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L791">view source</a></div></div><div class="public anchor" id="var-split-scale-int"><h3>split-scale-int</h3><h4 class="type">macro</h4><div class="usage"><code>(split-scale-int m)</code></div><div class="doc"><div class="markdown"><p>Expands to an (int â€¦) expression computing scale for Money.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2533">view source</a></div></div><div class="public anchor" id="var-strip"><h3>strip</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(strip a)</code></div><div class="doc"><div class="markdown"><p>Strips trailing zeros from the amount of money. The internal scale for a currency object is NOT updated.</p>
<p>Use with caution since it can make money object no longer compliant with a scale of the registered currency.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L825">view source</a></div></div><div class="public anchor" id="var-stripped-amount"><h3>stripped-amount</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(stripped-amount money)</code><code>(stripped-amount a b)</code><code>(stripped-amount a b r)</code></div><div class="doc"><div class="markdown"><p>Returns the amount of the given money with trailing zeros removed. For more than one argument the money is created ad-hoc using a and b objects passed to the function named value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L864">view source</a></div></div><div class="public anchor" id="var-sub"><h3>sub</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub a)</code><code>(sub a b)</code><code>(sub a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Subtracts two or more amounts of money of the same currency. When called with a single argument, negates its value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1466">view source</a></div></div><div class="public anchor" id="var-sub-major"><h3>sub-major</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub-major a b)</code></div><div class="doc"><div class="markdown"><p>Decreases major amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2465">view source</a></div></div><div class="public anchor" id="var-sub-minor"><h3>sub-minor</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub-minor a b)</code></div><div class="doc"><div class="markdown"><p>Decreases minor amount by the given number. If the number is also expressed as money and it has decimal parts, they will be truncated. If the major component comes from a money object, its currency must match the given money. This check is performed to prevent mistakes; if you need to subtract minor parts of money with different currencies, use <code>(minor x)</code> on the second argument.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2500">view source</a></div></div><div class="public anchor" id="var-sub-scaled"><h3>sub-scaled</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(sub-scaled a)</code><code>(sub-scaled a b)</code><code>(sub-scaled a b &amp; more)</code></div><div class="doc"><div class="markdown"><p>Alias for sub.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1505">view source</a></div></div><div class="public anchor" id="var-to-json-map"><h3>to-json-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(to-json-map money)</code><code>(to-json-map money opts)</code></div><div class="doc"><div class="markdown"><p>Serializes a money-like value to a JSON-friendly map.</p>
<p>The returned map uses keyword keys but is safe to pass to JSON encoders.</p>
<p>Options:</p>
<ul>
<li><code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code> â†’ <code>"ETH"</code></li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L3023">view source</a></div></div><div class="public anchor" id="var-to-json-string"><h3>to-json-string</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(to-json-string money)</code><code>(to-json-string money opts)</code></div><div class="doc"><div class="markdown"><p>Serializes a money-like value to a canonical JSON string.</p>
<p>Options:</p>
<ul>
<li><code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code> â†’ <code>"ETH"</code></li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L3039">view source</a></div></div><div class="public anchor" id="var-to-map"><h3>to-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(to-map money)</code></div><div class="doc"><div class="markdown"><p>Coerces a money-like value into an EDN-friendly map.</p>
<p>Canonical shape:</p>
<ul>
<li><code>:currency</code> - currency ID keyword (may be namespaced, e.g. <code>:crypto/USDT</code>)</li>
<li><code>:amount</code>   - BigDecimal amount (scale preserved)</li>
</ul>
<p>This is intended as a stable, data-oriented representation (close to what Bankster already supports in <code>#money{...}</code> literals). For JSON wire formats see <code>to-json-map</code> / <code>to-json-string</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2952">view source</a></div></div><div class="public anchor" id="var-to-units"><h3>to-units</h3><h4 class="type">macro</h4><div class="usage"><code>(to-units amount sc)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2542">view source</a></div></div><div class="public anchor" id="var-unparse"><h3>unparse</h3><h4 class="added">added in 1.0.7</h4><div class="usage"><code>(unparse money)</code><code>(unparse a b)</code><code>(unparse a b r)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with symbolic representations of amount and currency. Useful for printing to EDN or displaying on a console. The letter M will be added to the amount if its precision exceeds 15. For more than one argument the money is created ad-hoc using a and b objects passed to the function named value.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L873">view source</a></div></div><div class="public anchor" id="var-with-currency"><h3>with-currency</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-currency currency &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sets a default currency in a lexical context of the body. Has the same effect as <code>io.randomseed.bankster.currency/with</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2705">view source</a></div></div><div class="public anchor" id="var-with-rescaling"><h3>with-rescaling</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-rescaling rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Alias for <code>io.randomseed.bankster.scale/with-rescaling</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2699">view source</a></div></div><div class="public anchor" id="var-with-rounding"><h3>with-rounding</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(with-rounding rounding-mode &amp; body)</code></div><div class="doc"><div class="markdown"><p>Alias for <code>io.randomseed.bankster.scale/with-rounding</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L2693">view source</a></div></div><div class="public anchor" id="var-zero.3F"><h3>zero?</h3><h4 class="added">added in 1.2.0</h4><h4 class="deprecated">deprecated in 2.2.3</h4><div class="usage"><code>(zero? a)</code></div><div class="doc"><div class="markdown"><p>Alias for is-zero?.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.3/src/io/randomseed/bankster/money.clj#L1321">view source</a></div></div></div></body></html>