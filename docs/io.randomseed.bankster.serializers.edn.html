<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.bankster.serializers.edn documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bankster</span> <span class="project-version">2.2.4</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="11_sneak-peeks.html"><div class="inner"><span>Sneak peeks</span></div></a></li><li class="depth-1 "><a href="12_api.html"><div class="inner"><span>Bankster Front API</span></div></a></li><li class="depth-1 "><a href="15_contracts.html"><div class="inner"><span>Bankster Contracts</span></div></a></li><li class="depth-1 "><a href="20_data_structures.html"><div class="inner"><span>Data Structures</span></div></a></li><li class="depth-1 "><a href="30_currency-kinds.html"><div class="inner"><span>Currency kinds</span></div></a></li><li class="depth-1 "><a href="32_currency_traits.html"><div class="inner"><span>Currency traits</span></div></a></li><li class="depth-1 "><a href="50_example_config.html"><div class="inner"><span>Example EDN config</span></div></a></li><li class="depth-1 "><a href="50_serialization.html"><div class="inner"><span>Serialization</span></div></a></li><li class="depth-1 "><a href="80_Apache-2-License.html"><div class="inner"><span>Apache License, v2.0</span></div></a></li><li class="depth-1 "><a href="85_LGPL-3-License.html"><div class="inner"><span>LGPL License, v3 or later</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.bankster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bankster</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.api.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.api.v2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v2</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-6 branch"><a href="io.randomseed.bankster.api.v2.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-6"><a href="io.randomseed.bankster.api.v2.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.config.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.currency.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>currency</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.jsr-354.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jsr-354</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.money.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>money</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.money.inter-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>inter-ops</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.money.ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ops</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.registry.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.bankster.scale.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serializers</span></div></div></li><li class="depth-5 branch"><a href="io.randomseed.bankster.serializers.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-5 branch current"><a href="io.randomseed.bankster.serializers.edn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.serializers.json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-4"><a href="io.randomseed.bankster.util.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.fs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.importer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>importer</span></div></a></li><li class="depth-5 branch"><a href="io.randomseed.bankster.util.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-5"><a href="io.randomseed.bankster.util.qe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>qe</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-currency-.3Eedn-full-map"><div class="inner"><span>currency-&gt;edn-full-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-currency-.3Eedn-keyword"><div class="inner"><span>currency-&gt;edn-keyword</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-currency-.3Eedn-map"><div class="inner"><span>currency-&gt;edn-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-currency-.3Eedn-string"><div class="inner"><span>currency-&gt;edn-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-edn-keyword-.3Ecurrency"><div class="inner"><span>edn-keyword-&gt;currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-edn-map-.3Ecurrency"><div class="inner"><span>edn-map-&gt;currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-edn-map-.3Emoney"><div class="inner"><span>edn-map-&gt;money</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-edn-string-.3Ecurrency"><div class="inner"><span>edn-string-&gt;currency</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-edn-string-.3Emoney"><div class="inner"><span>edn-string-&gt;money</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-EdnDeserializable"><div class="inner"><span>EdnDeserializable</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.serializers.edn.html#var-from-edn-map"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>from-edn-map</span></div></a></li><li class="depth-2"><a href="io.randomseed.bankster.serializers.edn.html#var-from-edn-string"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>from-edn-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-EdnSerializable"><div class="inner"><span>EdnSerializable</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.serializers.edn.html#var-to-edn-full-map"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-edn-full-map</span></div></a></li><li class="depth-2 branch"><a href="io.randomseed.bankster.serializers.edn.html#var-to-edn-map"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-edn-map</span></div></a></li><li class="depth-2"><a href="io.randomseed.bankster.serializers.edn.html#var-to-edn-string"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-edn-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-money-.3Eedn-full-map"><div class="inner"><span>money-&gt;edn-full-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-money-.3Eedn-map"><div class="inner"><span>money-&gt;edn-map</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-money-.3Eedn-string"><div class="inner"><span>money-&gt;edn-string</span></div></a></li><li class="depth-1"><a href="io.randomseed.bankster.serializers.edn.html#var-money-codec"><div class="inner"><span>money-codec</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.bankster.serializers.edn</h1><h4 class="added">added in 2.1.0</h4><div class="doc"><div class="markdown"><p>Bankster library, EDN-oriented serialization helpers.</p>
</div></div><div class="public anchor" id="var-currency-.3Eedn-full-map"><h3>currency-&gt;edn-full-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(currency-&gt;edn-full-map c)</code><code>(currency-&gt;edn-full-map c opts)</code></div><div class="doc"><div class="markdown"><p>Converts Currency to a full EDN-friendly map with all fields.</p>
<p>Full shape: - <code>:id</code>      - currency identifier keyword (may be namespaced) - <code>:numeric</code> - ISO numeric code (or -1 if absent) - <code>:scale</code>   - decimal places (or -1 for auto-scaled) - <code>:domain</code>  - domain keyword (e.g. <code>:ISO-4217</code>, <code>:CRYPTO</code>) - <code>:kind</code>    - kind keyword (e.g. <code>:FIAT</code>, <code>:DECENTRALIZED</code>)</p>
<p>Options: - <code>:code-only?</code> - when truthy, namespace is omitted in <code>:id</code> - <code>:keys</code>       - vector of keys to include (filters output)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L153">view source</a></div></div><div class="public anchor" id="var-currency-.3Eedn-keyword"><h3>currency-&gt;edn-keyword</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(currency-&gt;edn-keyword c)</code><code>(currency-&gt;edn-keyword c opts)</code></div><div class="doc"><div class="markdown"><p>Converts Currency to an EDN keyword identifier.</p>
<p>Options: - <code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code> → <code>:ETH</code></p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L141">view source</a></div></div><div class="public anchor" id="var-currency-.3Eedn-map"><h3>currency-&gt;edn-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(currency-&gt;edn-map c)</code><code>(currency-&gt;edn-map c opts)</code></div><div class="doc"><div class="markdown"><p>Converts Currency to a minimal EDN-friendly map.</p>
<p>Minimal shape (by default): - <code>:id</code> - currency identifier keyword</p>
<p>When <code>:full?</code> is truthy, delegates to <code>currency-&gt;edn-full-map</code>.</p>
<p>Options: - <code>:code-only?</code> - when truthy, namespace is omitted in <code>:id</code> - <code>:full?</code>      - when truthy, returns full map via <code>currency-&gt;edn-full-map</code> - <code>:keys</code>       - (only with <code>:full?</code>) vector of keys to include</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L181">view source</a></div></div><div class="public anchor" id="var-currency-.3Eedn-string"><h3>currency-&gt;edn-string</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(currency-&gt;edn-string c)</code><code>(currency-&gt;edn-string c opts)</code></div><div class="doc"><div class="markdown"><p>Converts Currency to an EDN tagged literal string.</p>
<p>Format: <code>#currency &lt;keyword&gt;</code> (e.g. <code>#currency :PLN</code> or <code>#currency :crypto/ETH</code>)</p>
<p>Options: - <code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code> → <code>:ETH</code></p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L202">view source</a></div></div><div class="public anchor" id="var-edn-keyword-.3Ecurrency"><h3>edn-keyword-&gt;currency</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(edn-keyword-&gt;currency k)</code><code>(edn-keyword-&gt;currency k opts)</code></div><div class="doc"><div class="markdown"><p>Builds Currency from an EDN keyword identifier.</p>
<p>Options: - <code>:registry</code> - registry to use for lookup (default: <code>registry/get</code>)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L217">view source</a></div></div><div class="public anchor" id="var-edn-map-.3Ecurrency"><h3>edn-map-&gt;currency</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(edn-map-&gt;currency m)</code><code>(edn-map-&gt;currency m opts)</code></div><div class="doc"><div class="markdown"><p>Builds Currency from an EDN map.</p>
<p>Uses <code>:id</code> for lookup.</p>
<p>Options: - <code>:registry</code> - registry to use for lookup (default: <code>registry/get</code>)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L230">view source</a></div></div><div class="public anchor" id="var-edn-map-.3Emoney"><h3>edn-map-&gt;money</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(edn-map-&gt;money m)</code><code>(edn-map-&gt;money m opts)</code></div><div class="doc"><div class="markdown"><p>Builds Money from an EDN map.</p>
<p>Options: - <code>:registry</code>      - registry to use for currency lookup (default: <code>registry/get</code>) - <code>:rounding-mode</code> - rounding mode for rescaling (RoundingMode, keyword, or string) - <code>:rescale</code>       - integer scale to use instead of currency’s nominal scale. When provided, the Currency is cloned with this scale before creating Money. This prevents data loss when the registry currency has a smaller scale than the incoming data.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L363">view source</a></div></div><div class="public anchor" id="var-edn-string-.3Ecurrency"><h3>edn-string-&gt;currency</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(edn-string-&gt;currency s)</code><code>(edn-string-&gt;currency s opts)</code></div><div class="doc"><div class="markdown"><p>Builds Currency from an EDN tagged literal string.</p>
<p>Options: - <code>:registry</code> - registry to use for lookup (default: <code>registry/get</code>)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L258">view source</a></div></div><div class="public anchor" id="var-edn-string-.3Emoney"><h3>edn-string-&gt;money</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(edn-string-&gt;money s)</code><code>(edn-string-&gt;money s opts)</code></div><div class="doc"><div class="markdown"><p>Builds Money from an EDN tagged literal string.</p>
<p>Accepts: - <code>#money[12.30M PLN]</code> - <code>#money/crypto[1.5M ETH]</code> - <code>#money{:currency :PLN :amount 12.30M}</code></p>
<p>Options: - <code>:registry</code>      - registry to use for currency lookup (default: <code>registry/get</code>) - <code>:rounding-mode</code> - rounding mode for rescaling (RoundingMode, keyword, or string) - <code>:rescale</code>       - integer scale to use instead of currency’s nominal scale</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L434">view source</a></div></div><div class="public anchor" id="var-EdnDeserializable"><h3>EdnDeserializable</h3><h4 class="type">protocol</h4><h4 class="added">added in 2.1.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Protocol for EDN deserialization of Bankster types.</p>
<p>Options map supports: - <code>:registry</code>       - registry to use for currency lookup (default: <code>registry/get</code>) - <code>:rounding-mode</code>  - rounding mode for rescaling (RoundingMode, keyword, or string) - <code>:rescale</code>        - integer scale to use instead of currency’s nominal scale. When provided, the Currency object is cloned with this scale before creating Money. This prevents data loss when the registry currency has a smaller scale than the incoming data.</p>
</div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-from-edn-map"><h3>from-edn-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(from-edn-map type-token m)</code><code>(from-edn-map type-token m opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes a value from an EDN map.</p>
</div></div></div><div class="public anchor" id="var-from-edn-string"><h3>from-edn-string</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(from-edn-string type-token s)</code><code>(from-edn-string type-token s opts)</code></div><div class="doc"><div class="markdown"><p>Deserializes a value from an EDN string (tagged literal format).</p>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L61">view source</a></div></div><div class="public anchor" id="var-EdnSerializable"><h3>EdnSerializable</h3><h4 class="type">protocol</h4><h4 class="added">added in 2.1.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Protocol for EDN serialization of Bankster types.</p>
<p>Options map supports: - <code>:code-only?</code> - when truthy, namespace is omitted: <code>:crypto/ETH</code> → <code>:ETH</code> - <code>:full?</code>      - when truthy, delegates to <code>to-edn-full-map</code> for full serialization - <code>:keys</code>       - vector of keys to include; supports nested opts via map elements - <code>:rescale</code>    - integer scale to rescale amounts to (requires <code>:rounding-mode</code> for downscaling)</p>
</div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-to-edn-full-map"><h3>to-edn-full-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(to-edn-full-map this)</code><code>(to-edn-full-map this opts)</code></div><div class="doc"><div class="markdown"><p>Serializes the value to a full EDN-friendly map with all available fields. For Currency: {:id, :numeric, :scale, :kind, :domain} For Money: {:currency {…}, :amount} plus any extended fields.</p>
<p>Options: - <code>:keys</code> - vector of keys to include; nested opts via map elements e.g. {:keys [:amount {:currency {:keys <a href=":id :numeric">:id :numeric</a>}}]}</p>
</div></div></div><div class="public anchor" id="var-to-edn-map"><h3>to-edn-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(to-edn-map this)</code><code>(to-edn-map this opts)</code></div><div class="doc"><div class="markdown"><p>Serializes the value to a minimal EDN-friendly map. For Money: {:currency :PLN, :amount 12.30M} For Currency: {:id :PLN}</p>
</div></div></div><div class="public anchor" id="var-to-edn-string"><h3>to-edn-string</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(to-edn-string this)</code><code>(to-edn-string this opts)</code></div><div class="doc"><div class="markdown"><p>Serializes the value to an EDN string (tagged literal format).</p>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L29">view source</a></div></div><div class="public anchor" id="var-money-.3Eedn-full-map"><h3>money-&gt;edn-full-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(money-&gt;edn-full-map money)</code><code>(money-&gt;edn-full-map money opts)</code></div><div class="doc"><div class="markdown"><p>Converts Money to a full EDN-friendly map with all fields.</p>
<p>Full shape: - <code>:currency</code> - full currency map (via <code>currency-&gt;edn-full-map</code>) - <code>:amount</code>   - BigDecimal amount - Plus any extended fields from the Money record</p>
<p>Options: - <code>:code-only?</code>    - when truthy, namespace is omitted in currency <code>:id</code> - <code>:keys</code>          - vector of keys to include; supports nested opts for <code>:currency</code> e.g. {:keys [:amount {:currency {:keys <a href=":id :numeric">:id :numeric</a>}}]} - <code>:rescale</code>       - integer scale to rescale amounts to before serialization - <code>:rounding-mode</code> - rounding mode for rescaling (RoundingMode, keyword, or string)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L283">view source</a></div></div><div class="public anchor" id="var-money-.3Eedn-map"><h3>money-&gt;edn-map</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(money-&gt;edn-map money)</code><code>(money-&gt;edn-map money opts)</code></div><div class="doc"><div class="markdown"><p>Converts Money to a minimal EDN-friendly map.</p>
<p>Minimal shape: - <code>:currency</code> - currency identifier keyword (e.g. <code>:PLN</code> or <code>:crypto/USDT</code>) - <code>:amount</code>   - BigDecimal amount (scale preserved)</p>
<p>When <code>:full?</code> is truthy, delegates to <code>money-&gt;edn-full-map</code>.</p>
<p>Options: - <code>:code-only?</code>    - when truthy, namespace is omitted: <code>:crypto/ETH</code> → <code>:ETH</code> - <code>:full?</code>         - when truthy, returns full map via <code>money-&gt;edn-full-map</code> - <code>:keys</code>          - (only with <code>:full?</code>) vector of keys to include - <code>:rescale</code>       - integer scale to rescale amounts to before serialization - <code>:rounding-mode</code> - rounding mode for rescaling (RoundingMode, keyword, or string)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L334">view source</a></div></div><div class="public anchor" id="var-money-.3Eedn-string"><h3>money-&gt;edn-string</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(money-&gt;edn-string money)</code><code>(money-&gt;edn-string money opts)</code></div><div class="doc"><div class="markdown"><p>Converts Money to an EDN tagged literal string.</p>
<p>Format: - ISO currencies: <code>#money[12.30M PLN]</code> - Namespaced currencies: <code>#money/crypto[1.5M ETH]</code></p>
<p>Options: - <code>:code-only?</code>    - when truthy, always uses <code>#money[...]</code> format without namespace - <code>:rescale</code>       - integer scale to rescale amounts to before serialization - <code>:rounding-mode</code> - rounding mode for rescaling (RoundingMode, keyword, or string)</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L407">view source</a></div></div><div class="public anchor" id="var-money-codec"><h3>money-codec</h3><h4 class="added">added in 2.1.0</h4><div class="usage"><code>(money-codec)</code><code>(money-codec {:keys [representation code-only? registry rounding-mode], :as opts})</code></div><div class="doc"><div class="markdown"><p>Returns a representation-aware codec map for EDN:</p>
<ul>
<li><code>:encode</code>          - (Money -&gt; edn-value) where edn-value is map or string</li>
<li><code>:decode</code>          - (edn-value -&gt; Money)</li>
<li><code>:representation</code>  - <code>:map</code> or <code>:string</code></li>
</ul>
<p>Options: - <code>:representation</code> - <code>:map</code> (default) or <code>:string</code> - <code>:code-only?</code>     - passed to encoder - <code>:registry</code>       - passed to decoder - <code>:rounding-mode</code>  - passed to decoder</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/bankster/blob/2.2.4/src/io/randomseed/bankster/serializers/edn.clj#L586">view source</a></div></div></div></body></html>